<div id="page-title">
	<div id="page-meta">
		<div class="aux-actions">
			<a class="btn btn-success btn-sm" ng-click="ngCtrl.createFieldModal()"><i class="fa fa-plus"></i> Add New</a>
			<div class="form-group form-group-sm ng-hide" ng-show="ngCtrl.entity.fields.length > 0">
				<div class="left-inner-addon">
					<i class="fa fa-search"></i>
					<input ng-model="ngCtrl.search.name" type="text" class="form-control" placeholder="Field Name">
				</div>
			</div>
		</div>
		<div class="meta-label">
			<h4>Fields</h4>
		</div>
	</div>
</div>
<div id="page-body">
	<div class="tabbable tabs-left spilled">
		<a ng-click="ngCtrl.showSidebar()"  class="back" href="#/admin/entities"><i class="fa fa-fw fa-arrow-left"></i> <span class="text">Back</span></a>
		<ul class="nav nav-tabs">
			<li><a href="#/admin/entities/{{::ngCtrl.entity.name}}"><i class="fa fa-fw fa-info-circle"></i> <span class="text">Details</span></a></li>
			<li class="active"><a href="#/admin/entities/{{::ngCtrl.entity.name}}/fields"><i class="fa fa-fw fa-table"></i> <span class="text">Fields</span></a></li>
			<li><a href="#/admin/entities/{{::ngCtrl.entity.name}}/views"><i class="fa fa-fw fa-file-text-o"></i> <span class="text">Record Views</span></a></li>
			<li><a href="#/admin/entities/{{::ngCtrl.entity.name}}/lists"><i class="fa fa-fw fa-list"></i> <span class="text">Records Lists</span></a></li>
			<li><a href="#/admin/entities/{{::ngCtrl.entity.name}}/trees"><i class="fa fa-fw fa-sitemap"></i> <span class="text">Records Trees</span></a></li>
			<li><a href="#/admin/entities/{{::ngCtrl.entity.name}}/relations"><i class="fa fa-fw fa-link"></i> <span class="text">Relations</span></a></li>
		</ul>

	</div>
	<div id="page-text">
		<table class="table table-bordered table-hover table-vertical-align-middle">
			<thead>
				<tr>
					<th class="actions"></th>
					<th class="name">Name</th>
					<th class="icon">Type</th>
					<th class="meta">Info</th>
			</thead>
			<tbody>
				<tr ng-repeat="field in ngCtrl.entity.fields | filter: ngCtrl.search track by field.id">
					<td class="actions">
						<a class="btn btn-default btn-sm" ng-click="ngCtrl.manageFieldModal(field.id)">
							<i class="fa fa-pencil"></i>
						</a>
					</td>
					<td class="name">
						{{::field.name}}
						<span class="badge badge-danger badge-inverse" ng-show="::field.system" title="system item" style="margin-left:5px;"><i class="fa fa-fw fa-lock"></i></span>
					</td>
					<td class="type">
						{{ngCtrl.findFieldType(field.fieldType).label}}
					</td>
					<td class="meta">
						<span ng-show="::field.required">required, </span>
						<span ng-show="::field.unique">unique, </span>
						<span ng-show="::field.searchable">searchable, </span>
						<span ng-show="::field.auditable">auditable, </span>
					</td>
				</tr>
			</tbody>
		</table>


	</div>
</div>
<script type="text/ng-template" id="createFieldModal.html">
	<div class="modal-header" id="modal-top">
		<button type="button" class="close" ng-click="popupCtrl.cancel('cancel')" aria-label="Close"><span aria-hidden="true">&times;</span></button>
		<h3 class="modal-title">
			Create <span class="go-red" ng-show="popupCtrl.wizard.selectedType != null"> {{popupCtrl.wizard.selectedType.label}}</span> field
		</h3>
	</div>
	<div class="modal-body">

		<div class="wizard" id="MyWizard">
			<ul class="steps horizontal">
				<li ng-class="{'active': popupCtrl.wizard.steps[1].active,'complete': popupCtrl.wizard.steps[1].completed}" ng-click="popupCtrl.setActiveStep(1)">
					<span class="badge">1</span>Field type<span class="chevron"></span>
				</li>
				<li ng-class="{'active': popupCtrl.wizard.steps[2].active,'complete': popupCtrl.wizard.steps[2].completed}" ng-click="popupCtrl.setActiveStep(2)">
					<span class="badge">2</span>General settings<span class="chevron"></span>

				</li>
			</ul>
		</div>
		<br />

		<!-- Step 1-->
		<div ng-show="popupCtrl.wizard.steps[1].active">
			<div class="form">
				<div class="form-group">
					<div class="input-group">
						<span class="input-group-addon"><i class="fa fa-fw fa-search"></i></span>
						<input class="form-control" ng-model="popupCtrl.typeFilter.searchBox" autofocus />
					</div>
				</div>
			</div>

			<table class="table table-bordered table-hover">
				<tr ng-repeat="type in popupCtrl.fieldTypes | filter:popupCtrl.typeFilter">
					<th style="width:200px;">{{type.id}}. {{type.label}}</th>
					<td>{{type.description}}</td>
					<td style="width:80px;"><a ng-click="popupCtrl.selectType(type.id)" class="btn btn-default">select</a></td>
				</tr>
			</table>
		</div>
		<!-- Step 2-->
		<div ng-show="popupCtrl.wizard.steps[2].active" class="ajax-wrapper">
			<div ng-class="popupCtrl.createFieldStep2Loading ? '' : 'transparent'" id="loading-bar-spinner">
				<div class="spinner-icon"></div>
			</div>
			<div class="alert alert-danger ng-hide" ng-show="popupCtrl.createFieldStep2Error" ng-bind-html="popupCtrl.createFieldStep2ErrorMessage"></div>
			<div class="alert alert-danger ng-hide" ng-show="!popupCtrl.isEmpty(popupCtrl.validation)">
				<ul>
					<li ng-repeat="(key, value) in popupCtrl.validation">
						{{value.message}}
					</li>
				</ul>
			</div>
			<form class="form ng-hide" name="createFieldStep2" ng-show="!popupCtrl.createFieldStep2Error && !popupCtrl.createFieldStep2Loading">
				<div class="row">
					<div class="col-sm-6">
						<div class="form-group" ng-class="{ 'has-error' : createFieldStep2.name.$invalid && !createFieldStep2.name.$pristine || popupCtrl.nameError}">
							<label class="control-label required">Name</label>
							<input class="form-control" ng-model="popupCtrl.field.name" name="name" type="text" ng-model-options="{allowInvalid:true}"
								   required pattern="^[a-z](?!.*__)[a-z0-9_]*[a-z0-9]$" maxlength="50" placeholder="e.g. field_name or fieldName" />
							<div class="error ng-hide" ng-show="createFieldStep2.name.$touched && createFieldStep2.name.$dirty && createFieldStep2.name.$invalid || popupCtrl.nameError">
								<small class="error ng-hide" ng-show="createFieldStep2.name.$error.required && !popupCtrl.nameError">
									required field
								</small>
								<small class="error ng-hide" ng-show="createFieldStep2.name.$error.pattern">
									only lowercase alphanumeric characters or underscore, must start with a letter, at least two chars
								</small>
								<small class="error ng-hide" ng-show="createFieldStep2.name.$error.maxlength">
									must be less than 50 chars
								</small>
								<small class="error ng-hide" ng-show="popupCtrl.nameError">
									{{popupCtrl.nameMessage}}
								</small>
							</div>
						</div>
					</div>
					<div class="col-sm-6">
						<div class="form-group" ng-class="{ 'has-error' : createFieldStep2.label.$invalid && !createFieldStep2.label.$pristine || popupCtrl.labelError}">
							<label class="control-label required">Label</label>
							<input class="form-control" ng-model="popupCtrl.field.label" name="label" type="text"
								   required placeholder="e.g. Field Name" ng-model-options="{allowInvalid:true}" />
							<div class="error ng-hide" ng-show="createFieldStep2.label.$touched && createFieldStep2.label.$dirty && createFieldStep2.label.$invalid || popupCtrl.labelError">
								<small class="error ng-hide" ng-show="createFieldStep2.label.$error.required && !popupCtrl.labelError">
									required field
								</small>
								<small class="error ng-hide" ng-show="popupCtrl.labelError">
									{{popupCtrl.labelMessage}}
								</small>
							</div>
						</div>
					</div>
				</div>
				<div class="row">
					<div class="col-sm-6">
						<div class="form-group" ng-class="{ 'has-error' : createFieldStep2.placeholderText.$invalid && !createFieldStep2.placeholderText.$pristine || popupCtrl.placeholderTextError}">
							<label class="control-label">Placeholder text</label>
							<input class="form-control" ng-model="popupCtrl.field.placeholderText" name="placeholderText" type="text" ng-model-options="{allowInvalid:true}" />
							<div class="error ng-hide" ng-show="createFieldStep2.placeholderText.$touched && createFieldStep2.placeholderText.$dirty && createFieldStep2.placeholderText.$invalid || popupCtrl.placeholderTextError">
								<small class="error ng-hide" ng-show="popupCtrl.placeholderTextError">
									{{popupCtrl.placeholderTextMessage}}
								</small>
							</div>
						</div>
					</div>
					<div class="col-sm-6">
						<div class="form-group">
							<label for="requiredStatus" class="control-label">Required</label>
							<div class="checkbox">
								<label>
									<input ng-model="popupCtrl.field.required" type="checkbox" id="requiredStatus" value="true">
									this is a required field
								</label>
							</div>
						</div>
					</div>
				</div>
				<div class="row">
					<div class="col-sm-6">
						<div class="form-group" ng-class="{ 'has-error' : createFieldStep2.description.$invalid && !createFieldStep2.description.$pristine || popupCtrl.descriptionError}">
							<label class="control-label">Description</label>
							<input class="form-control" ng-model="popupCtrl.field.description" name="description" type="text" ng-model-options="{allowInvalid:true}" />
							<div class="error ng-hide" ng-show="createFieldStep2.description.$touched && createFieldStep2.description.$dirty && createFieldStep2.description.$invalid || popupCtrl.descriptionError">
								<small class="error ng-hide" ng-show="popupCtrl.descriptionError">
									{{popupCtrl.descriptionTextMessage}}
								</small>
							</div>
						</div>
					</div>
					<div class="col-sm-6">
						<div class="form-group">
							<label for="uniqueStatus" class="control-label">Unique status</label>
							<div class="checkbox">
								<label>
									<input ng-model="popupCtrl.field.unique" type="checkbox" id="uniqueStatus" value="true" ng-change="popupCtrl.uniqueGuidPropertyChecked(popupCtrl.field.unique)">
									all values of the field should be unique
								</label>
							</div>
						</div>
					</div>
				</div>
				<div class="row">
					<div class="col-sm-6">
						<div class="form-group" ng-class="{ 'has-error' : createFieldStep2.helpText.$invalid && !createFieldStep2.helpText.$pristine || popupCtrl.helpTextError}">
							<label class="control-label">Help text</label>
							<input class="form-control" ng-model="popupCtrl.field.helpText" name="helpText" type="text" ng-model-options="{allowInvalid:true}" />
							<div class="error ng-hide" ng-show="createFieldStep2.helpText.$touched && createFieldStep2.helpText.$dirty && createFieldStep2.helpText.$invalid || popupCtrl.helpTextError">
								<small class="error ng-hide" ng-show="popupCtrl.helpTextError">
									{{popupCtrl.helpTextMessage}}
								</small>
							</div>
						</div>
					</div>
					<div class="col-sm-6">
						<div class="form-group">
							<label for="systemStatus" class="control-label">System Status</label>
							<div class="checkbox">
								<label>
									<input ng-model="popupCtrl.field.system" type="checkbox" id="systemStatus" value="true">
									this is a system field <span class="go-grey">(deletion is locked)</span>
								</label>
							</div>
						</div>
					</div>
				</div>
				<div class="row">
					<div class="col-sm-6">
						<div class="form-group">
							<label for="searchableStatus" class="control-label">Searchable</label>
							<div class="checkbox" ng-if="popupCtrl.field.fieldType != 13">
								<label>
									<input ng-model="popupCtrl.field.searchable" type="checkbox" id="searchableStatus" value="true">
									the values of this field should be included in the search index
								</label>
							</div>
							<div class="form-control-static" ng-if="popupCtrl.field.fieldType == 13">password cannot be searchable</div>
						</div>

					</div>
					<div class="col-sm-6">
						<div class="form-group">
							<label for="auditableStatus" class="control-label">Auditable</label>
							<div class="checkbox">
								<label>
									<input ng-model="popupCtrl.field.auditable" type="checkbox" id="auditableStatus" value="true">
									change history should be kept for this field
								</label>
							</div>
						</div>


					</div>
				</div>
				<!--Auto increment 1 -->
				<div ng-if="popupCtrl.wizard.selectedType.id == 1">

					<div class="row">
						<input type="hidden" value="{{popupCtrl.wizard.selectedType.id}}" name="fieldType" />
						<div class="col-sm-6">
							<div class="form-group" ng-class="{ 'has-error' : createFieldStep2.defaultValue.$invalid && !createFieldStep2.defaultValue.$pristine || popupCtrl.defaultValueError}">
								<label class="control-label" ng-class="{'required':popupCtrl.field.required}">Default value</label>
								<input class="form-control" ng-model="popupCtrl.field.defaultValue" name="defaultValue" type="text"
									   ng-required="popupCtrl.field.required" pattern="^[0-9]*$" placeholder="e.g. 1" ng-model-options="{allowInvalid:true}" />
								<div class="error ng-hide" ng-show="createFieldStep2.defaultValue.$touched && createFieldStep2.defaultValue.$dirty && createFieldStep2.defaultValue.$invalid || popupCtrl.defaultValueError">
									<small class="error ng-hide" ng-show="createFieldStep2.defaultValue.$error.required && !popupCtrl.defaultValueError">
										required field
									</small>
									<small class="error ng-hide" ng-show="createFieldStep2.defaultValue.$error.pattern && !popupCtrl.defaultValueError">
										should be a valid number
									</small>
									<small class="error ng-hide" ng-show="popupCtrl.defaultValueError">
										{{popupCtrl.defaultValueMessage}}
									</small>
								</div>
							</div>
						</div>
						<div class="col-sm-6">
							<div class="form-group" ng-class="{ 'has-error' : createFieldStep2.startingNumber.$invalid && !createFieldStep2.startingNumber.$pristine || popupCtrl.startingNumberError}">
								<label class="control-label required">Starting number</label>
								<input class="form-control" ng-model="popupCtrl.field.startingNumber" name="startingNumber" type="text"
									   pattern="^[0-9]*$" required placeholder="increment starting point" ng-model-options="{allowInvalid:true}" />
								<div class="error ng-hide" ng-show="createFieldStep2.startingNumber.$touched && createFieldStep2.startingNumber.$dirty && createFieldStep2.startingNumber.$invalid || popupCtrl.startingNumberError">
									<small class="error ng-hide" ng-show="createFieldStep2.startingNumber.$error.pattern && !popupCtrl.startingNumberError">
										only numbers
									</small>
									<small class="error ng-hide" ng-show="createFieldStep2.startingNumber.$error.required && !popupCtrl.startingNumberError">
										required field
									</small>
									<small class="error ng-hide" ng-show="popupCtrl.startingNumberError">
										{{popupCtrl.startingNumberMessage}}
									</small>
								</div>
							</div>
						</div>
					</div>
					<div class="row">
						<div class="col-sm-6">
							<div class="form-group" ng-class="{ 'has-error' : createFieldStep2.displayFormat.$invalid && !createFieldStep2.displayFormat.$pristine || popupCtrl.displayFormatError}">
								<label class="control-label">Display format</label>
								<input class="form-control" ng-model="popupCtrl.field.displayFormat" name="displayFormat" type="text" placeholder="e.g. Order-{0}" ng-model-options="{allowInvalid:true}" />
								<div class="error ng-hide" ng-show="createFieldStep2.displayFormat.$touched && createFieldStep2.displayFormat.$dirty && createFieldStep2.displayFormat.$invalid || popupCtrl.displayFormatError">
									<small class="error ng-hide" ng-show="popupCtrl.displayFormatError">
										{{popupCtrl.displayFormatMessage}}
									</small>
								</div>
							</div>
						</div>
					</div>
				</div>
				<!--Checkbox 2 -->
				<div ng-if="popupCtrl.wizard.selectedType.id == 2">
					<div class="row">
						<div class="col-sm-6">
							<input type="hidden" value="{{popupCtrl.wizard.selectedType.id}}" name="fieldType" />
							<div class="form-group">
								<label class="control-label">Default value</label>
								<div class="checkbox">
									<label>
										<input ng-model="popupCtrl.field.defaultValue" name="defaultValue" type="checkbox" />
										make it checked by default
									</label>
								</div>
							</div>
						</div>
						<div class="col-sm-6">

						</div>
					</div>

				</div>
				<!--Currency 3 -->
				<div ng-if="popupCtrl.wizard.selectedType.id == 3">
					<div class="row">
						<div class="col-sm-6">
							<input type="hidden" value="{{popupCtrl.wizard.selectedType.id}}" name="fieldType" />
							<div class="form-group" ng-class="{ 'has-error' : createFieldStep2.defaultValue.$invalid && !createFieldStep2.defaultValue.$pristine || popupCtrl.defaultValueError}">
								<label class="control-label" ng-class="{'required':popupCtrl.field.required}">Default value</label>
								<input class="form-control" ng-model="popupCtrl.field.defaultValue" name="defaultValue" type="number"
									   ng-required="popupCtrl.field.required" pattern="^\d+(\.\d{1,5})?$" ng-model-options="{allowInvalid:true}" />
								<div class="error ng-hide" ng-show="createFieldStep2.defaultValue.$touched && createFieldStep2.defaultValue.$dirty && createFieldStep2.defaultValue.$invalid || popupCtrl.defaultValueError">
									<small class="error ng-hide" ng-show="createFieldStep2.defaultValue.$error.required && !popupCtrl.defaultValueError">
										required field
									</small>
									<small class="error ng-hide" ng-show="createFieldStep2.defaultValue.$error.pattern && !popupCtrl.defaultValueError">
										should be a valid decimal
									</small>
									<small class="error ng-hide" ng-show="popupCtrl.defaultValueError">
										{{popupCtrl.defaultValueMessage}}
									</small>
								</div>
							</div>
						</div>
						<div class="col-sm-6">

						</div>
					</div>
					<div class="row">
						<div class="col-sm-6">
							<div class="form-group" ng-class="{ 'has-error' : createFieldStep2.minValue.$invalid && !createFieldStep2.minValue.$pristine || popupCtrl.minValueError}">
								<label class="control-label">Minimum value</label>
								<input class="form-control" ng-model="popupCtrl.field.minValue" name="minValue" type="number"
									   pattern="^\d+(\.\d{1,5})?$" ng-model-options="{allowInvalid:true}" />
								<div class="error ng-hide" ng-show="createFieldStep2.minValue.$touched && createFieldStep2.minValue.$dirty && createFieldStep2.minValue.$invalid || popupCtrl.minValueError">
									<small class="error ng-hide" ng-show="createFieldStep2.minValue.$error.pattern && !popupCtrl.minValueError">
										should be a valid decimal
									</small>
									<small class="error ng-hide" ng-show="popupCtrl.minValueError">
										{{popupCtrl.minValueMessage}}
									</small>
								</div>
							</div>
						</div>
						<div class="col-sm-6">
							<div class="form-group" ng-class="{ 'has-error' : createFieldStep2.maxValue.$invalid && !createFieldStep2.maxValue.$pristine || popupCtrl.maxValueError}">
								<label class="control-label">Maximum value</label>
								<input class="form-control" ng-model="popupCtrl.field.maxValue" name="minValue" type="number"
									   pattern="^\d+(\.\d{1,5})?$" ng-model-options="{allowInvalid:true}" />
								<div class="error ng-hide" ng-show="createFieldStep2.maxValue.$touched && createFieldStep2.maxValue.$dirty && createFieldStep2.maxValue.$invalid || popupCtrl.maxValueError">
									<small class="error ng-hide" ng-show="createFieldStep2.maxValue.$error.pattern && !popupCtrl.maxValueError">
										should be a valid decimal
									</small>
									<small class="error ng-hide" ng-show="popupCtrl.maxValueError">
										{{popupCtrl.maxValueMessage}}
									</small>
								</div>
							</div>
						</div>
					</div>
					<div class="row">
						<div class="col-sm-6">
							<div class="form-group">
								<label class="control-label">Currency</label>
								<select class="form-control" ng-model="popupCtrl.selectedCurrencyMeta" ng-options="item.code as item.name for item in popupCtrl.ngCtrl.currencyMetas"></select>
							</div>
						</div>
					</div>

				</div>
				<!--Date 4 -->
				<div ng-if="popupCtrl.wizard.selectedType.id == 4">
					<div class="row">
						<div class="col-sm-6">
							<input type="hidden" value="{{popupCtrl.wizard.selectedType.id}}" name="fieldType" />

							<div class="form-group" ng-class="{ 'has-error' : createFieldStep2.defaultValue.$invalid && !createFieldStep2.defaultValue.$pristine || popupCtrl.defaultValueError}">
								<label class="control-label" ng-class="{'required':popupCtrl.field.required}">Default value</label>
								<div class="input-group">
									<input class="form-control" ng-model="popupCtrl.field.defaultValue" name="defaultValue" type="text" ng-model-options="{allowInvalid:true}"
										   ng-required="popupCtrl.field.required" placeholder="e.g. 2014-11-01" valid-date
										   datetime-picker="{{popupCtrl.field.format || 'dd MMM yyyy'}}" is-open="popupCtrl.calendars['defaultValue']" enable-date="true"
										   enable-time="false" ng-click="popupCtrl.openCalendar($event, 'defaultValue')" />
									<span class="input-group-btn">
										<button type="button" class="btn btn-default" ng-click="popupCtrl.openCalendar($event, 'defaultValue')"><i class="fa fa-calendar"></i></button>
									</span>
								</div>
								<div class="error ng-hide" ng-show="createFieldStep2.defaultValue.$touched && createFieldStep2.defaultValue.$dirty && createFieldStep2.defaultValue.$invalid || popupCtrl.defaultValueError">
									<small class="error ng-hide" ng-show="createFieldStep2.defaultValue.$error.required && !popupCtrl.defaultValueError">
										required field
									</small>
									<small class="error ng-hide" ng-show="createFieldStep2.defaultValue.$error.validDate && !popupCtrl.defaultValueError">
										this string is not a valid date format
									</small>
									<small class="error ng-hide" ng-show="popupCtrl.defaultValueError">
										{{popupCtrl.defaultValueMessage}}
									</small>
								</div>
							</div>

						</div>
						<div class="col-sm-6">
							<div class="form-group" ng-class="{ 'has-error' : createFieldStep2.format.$invalid && !createFieldStep2.format.$pristine || popupCtrl.formatError}">
								<label class="control-label" ng-class="{'required':true}">Presentation Format</label>
								<input class="form-control" ng-model="popupCtrl.field.format" name="format" type="text"
									   ng-required="true" placeholder="e.g. yyyy-MM-dd" ng-model-options="{allowInvalid:true}" />
								<div class="error ng-hide" ng-show="createFieldStep2.format.$touched && createFieldStep2.format.$dirty && createFieldStep2.format.$invalid || popupCtrl.formatError">
									<small class="error ng-hide" ng-show="createFieldStep2.format.$error.required && !popupCtrl.formatError">
										required field
									</small>
									<small class="error ng-hide" ng-show="popupCtrl.formatError">
										{{popupCtrl.formatMessage}}
									</small>
								</div>
							</div>
						</div>
					</div>
					<div class="row">
						<div class="col-sm-6">
							<div class="form-group">
								<label class="control-label">Use Current Time as Default</label>
								<div class="checkbox">
									<label>
										<input ng-model="popupCtrl.field.useCurrentTimeAsDefaultValue" name="useCurrentTimeAsDefaultValue" type="checkbox" />
										use the date of the record generation as default
									</label>
								</div>
							</div>
						</div>
						<div class="col-sm-6">

						</div>
					</div>
				</div>
				<!--Date & Time 5 -->
				<div ng-if="popupCtrl.wizard.selectedType.id == 5">
					<div class="row">
						<div class="col-sm-6">
							<input type="hidden" value="{{popupCtrl.wizard.selectedType.id}}" name="fieldType" />

							<div class="form-group" ng-class="{ 'has-error' : createFieldStep2.defaultValue.$invalid && !createFieldStep2.defaultValue.$pristine || popupCtrl.defaultValueError}">
								<label class="control-label" ng-class="{'required':popupCtrl.field.required}">Default value</label>
								<div class="input-group">
									<input class="form-control" ng-model="popupCtrl.field.defaultValue" name="defaultValue" type="text"
										   ng-required="popupCtrl.field.required" placeholder="e.g. 2014-11-01" valid-date ng-model-options="{allowInvalid:true}"
										   datetime-picker="{{popupCtrl.field.format || 'dd MMM yyyy HH:mm'}}" is-open="popupCtrl.calendars['defaultValue']" enable-date="true" enable-time="true"
										   timepicker-options="{showMeridian:false}" ng-click="popupCtrl.openCalendar($event, 'defaultValue')" />
									<span class="input-group-btn">
										<button type="button" class="btn btn-default" ng-click="popupCtrl.openCalendar($event, 'defaultValue')"><i class="fa fa-calendar"></i></button>
									</span>
								</div>
								<div class="error ng-hide" ng-show="createFieldStep2.defaultValue.$touched && createFieldStep2.defaultValue.$dirty && createFieldStep2.defaultValue.$invalid || popupCtrl.defaultValueError">
									<small class="error ng-hide" ng-show="createFieldStep2.defaultValue.$error.required && !popupCtrl.defaultValueError">
										required field
									</small>
									<small class="error ng-hide" ng-show="createFieldStep2.defaultValue.$error.validDate && !popupCtrl.defaultValueError">
										this string is not a valid date format
									</small>
									<small class="error ng-hide" ng-show="popupCtrl.defaultValueError">
										{{popupCtrl.defaultValueMessage}}
									</small>
								</div>
							</div>

						</div>
						<div class="col-sm-6">
							<div class="form-group" ng-class="{ 'has-error' : createFieldStep2.format.$invalid && !createFieldStep2.format.$pristine || popupCtrl.formatError}">
								<label class="control-label" ng-class="{'required':true}">Presentation Format</label>
								<input class="form-control" ng-model="popupCtrl.field.format" name="format" type="text"
									   ng-required="true" placeholder="e.g. dd MMM yyyy HH:mm" ng-model-options="{allowInvalid:true}" />
								<div class="error ng-hide" ng-show="createFieldStep2.format.$touched && createFieldStep2.format.$dirty && createFieldStep2.format.$invalid || popupCtrl.formatError">
									<small class="error ng-hide" ng-show="createFieldStep2.format.$error.required && !popupCtrl.formatError">
										required field
									</small>
									<small class="error ng-hide" ng-show="popupCtrl.formatError">
										{{popupCtrl.formatMessage}}
									</small>
								</div>
							</div>
						</div>
					</div>
					<div class="row">
						<div class="col-sm-6">
							<div class="form-group">
								<label class="control-label">Use Current Time as Default</label>
								<div class="checkbox">
									<label>
										<input ng-model="popupCtrl.field.useCurrentTimeAsDefaultValue" name="useCurrentTimeAsDefaultValue" type="checkbox" />
										use the date of the record generation as default
									</label>
								</div>
							</div>
						</div>
						<div class="col-sm-6">

						</div>
					</div>
				</div>
				<!--Email 6 -->
				<div ng-if="popupCtrl.wizard.selectedType.id == 6">
					<div class="row">
						<div class="col-sm-6">
							<input type="hidden" value="{{popupCtrl.wizard.selectedType.id}}" name="fieldType" />

							<div class="form-group" ng-class="{ 'has-error' : createFieldStep2.defaultValue.$invalid && !createFieldStep2.defaultValue.$pristine || popupCtrl.defaultValueError}">
								<label class="control-label" ng-class="{'required':popupCtrl.field.required}">Default value</label>
								<input class="form-control" ng-model="popupCtrl.field.defaultValue" name="defaultValue" type="text" ng-model-options="{allowInvalid:true}"
									   ng-required="popupCtrl.field.required" placeholder="e.g. email@domain.com" pattern="[a-z0-9!#$%&'*+/=?^_`{|}~-]+(?:\.[a-z0-9!#$%&'*+/=?^_`{|}~-]+)*@(?:[a-z0-9](?:[a-z0-9-]*[a-z0-9])?\.)+[a-z0-9](?:[a-z0-9-]*[a-z0-9])?" />
								<div class="error ng-hide" ng-show="createFieldStep2.defaultValue.$touched && createFieldStep2.defaultValue.$dirty && createFieldStep2.defaultValue.$invalid || popupCtrl.defaultValueError">
									<small class="error ng-hide" ng-show="createFieldStep2.defaultValue.$error.required && !popupCtrl.defaultValueError">
										required field
									</small>
									<small class="error ng-hide" ng-show="createFieldStep2.defaultValue.$error.pattern && !popupCtrl.defaultValueError">
										not a valid email
									</small>
									<small class="error ng-hide" ng-show="popupCtrl.defaultValueError">
										{{popupCtrl.defaultValueMessage}}
									</small>
								</div>
							</div>

						</div>
						<div class="col-sm-6">
							<div class="form-group" ng-class="{ 'has-error' : createFieldStep2.maxLength.$invalid && !createFieldStep2.maxLength.$pristine || popupCtrl.maxLengthError}">
								<label class="control-label" ng-class="{'required':popupCtrl.maxLength.required}">Maximum Length</label>
								<input class="form-control" ng-model="popupCtrl.field.maxLength" name="maxLength" type="text"
									   ng-required="popupCtrl.maxLength.required" pattern="^[0-9]*$" ng-model-options="{allowInvalid:true}" />
								<div class="error ng-hide" ng-show="createFieldStep2.maxLength.$touched && createFieldStep2.maxLength.$dirty && createFieldStep2.maxLength.$invalid || popupCtrl.maxLengthError">
									<small class="error ng-hide" ng-show="createFieldStep2.maxLength.$error.required && !popupCtrl.maxLengthError">
										required field
									</small>
									<small class="error ng-hide" ng-show="createFieldStep2.maxLength.$error.pattern && !popupCtrl.maxLengthError">
										should be a valid number
									</small>
									<small class="error ng-hide" ng-show="popupCtrl.maxLengthError">
										{{popupCtrl.maxLengthMessage}}
									</small>
								</div>
							</div>
						</div>
					</div>
				</div>
				<!--File 7 -->
				<div ng-if="popupCtrl.wizard.selectedType.id == 7">
					<div class="row">
						<div class="col-sm-6">
							<input type="hidden" value="{{popupCtrl.wizard.selectedType.id}}" name="fieldType" />
							<div class="form-group" ng-class="{ 'has-error' : createFieldStep2.defaultValue.$invalid && !createFieldStep2.defaultValue.$pristine || popupCtrl.defaultValueError}">
								<label class="control-label" ng-class="{'required':popupCtrl.field.required}">Default value</label>
								<input class="form-control" ng-model="popupCtrl.field.defaultValue" name="defaultValue" type="text" ng-model-options="{allowInvalid:true}"
									   ng-required="popupCtrl.field.required" placeholder="e.g. http://mydomain.com/file.pdf or /assets/file.pdf" />
								<div class="error ng-hide" ng-show="createFieldStep2.defaultValue.$touched && createFieldStep2.defaultValue.$dirty && createFieldStep2.defaultValue.$invalid || popupCtrl.defaultValueError">
									<small class="error ng-hide" ng-show="createFieldStep2.defaultValue.$error.required && !popupCtrl.defaultValueError">
										required field
									</small>
									<small class="error ng-hide" ng-show="popupCtrl.defaultValueError">
										{{popupCtrl.defaultValueMessage}}
									</small>
								</div>
							</div>
						</div>
						<div class="col-sm-6">

						</div>
					</div>
				</div>
				<!--HTML 8 -->
				<div ng-if="popupCtrl.wizard.selectedType.id == 8">
					<div class="row">
						<div class="col-sm-6">
							<input type="hidden" value="{{popupCtrl.wizard.selectedType.id}}" name="fieldType" />
							<div class="form-group" ng-class="{ 'has-error' : createFieldStep2.defaultValue.$invalid && !createFieldStep2.defaultValue.$pristine || popupCtrl.defaultValueError}">
								<label class="control-label" ng-class="{'required':popupCtrl.field.required}">Default value</label>
								<input class="form-control" ng-model="popupCtrl.field.defaultValue" name="defaultValue" type="text"
									   ng-required="popupCtrl.field.required" placeholder="e.g. some html" ng-model-options="{allowInvalid:true}" />
								<div class="error ng-hide" ng-show="createFieldStep2.defaultValue.$touched && createFieldStep2.defaultValue.$dirty && createFieldStep2.defaultValue.$invalid || popupCtrl.defaultValueError">
									<small class="error ng-hide" ng-show="createFieldStep2.defaultValue.$error.required && !popupCtrl.defaultValueError">
										required field
									</small>
									<small class="error ng-hide" ng-show="popupCtrl.defaultValueError">
										{{popupCtrl.defaultValueMessage}}
									</small>
								</div>
							</div>
						</div>
						<div class="col-sm-6">

						</div>
					</div>
				</div>
				<!--Image 9 -->
				<div ng-if="popupCtrl.wizard.selectedType.id == 9">
					<div class="row">
						<div class="col-sm-6">
							<input type="hidden" value="{{popupCtrl.wizard.selectedType.id}}" name="fieldType" />
							<div class="form-group" ng-class="{ 'has-error' : createFieldStep2.defaultValue.$invalid && !createFieldStep2.defaultValue.$pristine || popupCtrl.defaultValueError}">
								<label class="control-label" ng-class="{'required':popupCtrl.field.required}">Default value</label>
								<input class="form-control" ng-model="popupCtrl.field.defaultValue" name="defaultValue" type="text"
									   ng-required="popupCtrl.field.required" placeholder="e.g. /assets/image.png" ng-model-options="{allowInvalid:true}" />
								<div class="error ng-hide" ng-show="createFieldStep2.defaultValue.$touched && createFieldStep2.defaultValue.$dirty && createFieldStep2.defaultValue.$invalid || popupCtrl.defaultValueError">
									<small class="error ng-hide" ng-show="createFieldStep2.defaultValue.$error.required && !popupCtrl.defaultValueError">
										required field
									</small>
									<small class="error ng-hide" ng-show="popupCtrl.defaultValueError">
										{{popupCtrl.defaultValueMessage}}
									</small>
								</div>
							</div>
						</div>
						<div class="col-sm-6">

						</div>
					</div>
				</div>
				<!--Textarea 10 -->
				<div ng-if="popupCtrl.wizard.selectedType.id == 10">
					<div class="row">
						<div class="col-sm-6">
							<input type="hidden" value="{{popupCtrl.wizard.selectedType.id}}" name="fieldType" />
							<div class="form-group" ng-class="{ 'has-error' : createFieldStep2.defaultValue.$invalid && !createFieldStep2.defaultValue.$pristine || popupCtrl.defaultValueError}">
								<label class="control-label" ng-class="{'required':popupCtrl.field.required}">Default value</label>
								<input class="form-control" ng-model="popupCtrl.field.defaultValue" name="defaultValue" type="text"
									   ng-required="popupCtrl.field.required" placeholder="e.g. some text" ng-model-options="{allowInvalid:true}" />
								<div class="error ng-hide" ng-show="createFieldStep2.defaultValue.$touched && createFieldStep2.defaultValue.$dirty && createFieldStep2.defaultValue.$invalid || popupCtrl.defaultValueError">
									<small class="error ng-hide" ng-show="createFieldStep2.defaultValue.$error.required && !popupCtrl.defaultValueError">
										required field
									</small>
									<small class="error ng-hide" ng-show="popupCtrl.defaultValueError">
										{{popupCtrl.defaultValueMessage}}
									</small>
								</div>
							</div>

						</div>
						<div class="col-sm-6">
							<div class="form-group" ng-class="{ 'has-error' : createFieldStep2.maxLength.$invalid && !createFieldStep2.maxLength.$pristine || popupCtrl.maxLengthError}">
								<label class="control-label" ng-class="{'required':popupCtrl.maxLength.required}">Maximum Length</label>
								<input class="form-control" ng-model="popupCtrl.field.maxLength" name="maxLength" type="text"
									   ng-required="popupCtrl.maxLength.required" pattern="^[0-9]*$" ng-model-options="{allowInvalid:true}" />
								<div class="error ng-hide" ng-show="createFieldStep2.maxLength.$touched && createFieldStep2.maxLength.$dirty && createFieldStep2.maxLength.$invalid || popupCtrl.maxLengthError">
									<small class="error ng-hide" ng-show="createFieldStep2.maxLength.$error.required && !popupCtrl.maxLengthError">
										required field
									</small>
									<small class="error ng-hide" ng-show="createFieldStep2.maxLength.$error.pattern && !popupCtrl.maxLengthError">
										should be a valid number
									</small>
									<small class="error ng-hide" ng-show="popupCtrl.maxLengthError">
										{{popupCtrl.maxLengthMessage}}
									</small>
								</div>
							</div>
						</div>
					</div>
					<!--<div class="row">
						<div class="col-sm-6">
							<div class="form-group">
								<label class="control-label">Line Numbers</label>
								<div class="checkbox">
									<label>
										<input ng-model="popupCtrl.field.visibleLineNumber" name="visibleLineNumber" type="checkbox" />
										make the textarea line numbers visible
									</label>
								</div>
							</div>
						</div>
						<div class="col-sm-6">

						</div>
					</div>-->
				</div>
				<!--Multiple select 11 -->
				<div ng-if="popupCtrl.wizard.selectedType.id == 11">
					<input type="hidden" value="{{popupCtrl.wizard.selectedType.id}}" name="fieldType" />
					<!--<div class="row">
						<div class="col-sm-6">
							
							<div class="form-group" ng-class="{ 'has-error' : createFieldStep2.defaultValue.$invalid && !createFieldStep2.defaultValue.$pristine || popupCtrl.defaultValueError}">
								<label class="control-label" ng-class="{'required':popupCtrl.field.required}">Default values</label>
								<input class="form-control" ng-model="popupCtrl.field.defaultValue" name="defaultValue" type="text"
									   ng-required="popupCtrl.field.required" placeholder="e.g. 1,2,3" ng-model-options="{allowInvalid:true}" />
								<div class="error ng-hide" ng-show="createFieldStep2.defaultValue.$touched && createFieldStep2.defaultValue.$dirty && createFieldStep2.defaultValue.$invalid || popupCtrl.defaultValueError">
									<small class="error ng-hide" ng-show="createFieldStep2.defaultValue.$error.required && !popupCtrl.defaultValueError">
										required field
									</small>
									<small class="error ng-hide" ng-show="popupCtrl.defaultValueError">
										{{popupCtrl.defaultValueMessage}}
									</small>
								</div>
							</div>

						</div>
					</div>-->
					<div class="row">
						<div class="col-sm-12">
							<div class="form-group">
								<label class="control-label">Options</label>
							</div>
						</div>
					</div>
					<div class="row">
						<div class="col-sm-12" style="padding-bottom:1em;">
							<a href="javascript:void(0)" class="btn btn-success" ng-click="popupCtrl.addDropdownValue()">add option</a>
						</div>
					</div>
					<div class="row">
						<div class="col-sm-12">
							<table class="table table-bordered" ng-hide="popupCtrl.field.options.length == 0">
								<thead>
									<tr>
										<th>value</th>
										<th>label</th>
										<th style="width:60px;">default</th>
										<th style="width:60px;">remove</th>
									</tr>
								</thead>
								<tbody>
									<tr ng-repeat="option in popupCtrl.field.options">
										<td><input class="form-control" ng-model="option.key" /></td>
										<td><input class="form-control" ng-model="option.value" /></td>
										<td><a ng-click="popupCtrl.toggleKeyAsDefault(option.key)" href="javascript:void(0)" class="btn btn-sm" ng-class="popupCtrl.isKeyDefault(option.key) ? 'btn-success' : 'btn-default go-gray'"><i class="fa fa-fw fa-check"></i></a></td>
										<td><a ng-click="popupCtrl.deleteDropdownValue($index)" href="javascript:void(0)" class="btn btn-sm btn-default go-red"><i class="fa fa-fw fa-close"></i></a></td>
									</tr>
								</tbody>
							</table>
							<br />
						</div>
					</div>
				</div>
				<!--Number 12 -->
				<div ng-if="popupCtrl.wizard.selectedType.id == 12">
					<div class="row">
						<input type="hidden" value="{{popupCtrl.wizard.selectedType.id}}" name="fieldType" />
						<div class="col-sm-6">
							<div class="form-group" ng-class="{ 'has-error' : createFieldStep2.defaultValue.$invalid && !createFieldStep2.defaultValue.$pristine || popupCtrl.defaultValueError}">
								<label class="control-label" ng-class="{'required':popupCtrl.field.required}">Default value</label>
								<input class="form-control" ng-model="popupCtrl.field.defaultValue" name="defaultValue" type="text"
									   ng-required="popupCtrl.field.required" pattern="^[0-9]*$" ng-model-options="{allowInvalid:true}" />
								<div class="error ng-hide" ng-show="createFieldStep2.defaultValue.$touched && createFieldStep2.defaultValue.$dirty && createFieldStep2.defaultValue.$invalid || popupCtrl.defaultValueError">
									<small class="error ng-hide" ng-show="createFieldStep2.defaultValue.$error.required && !popupCtrl.defaultValueError">
										required field
									</small>
									<small class="error ng-hide" ng-show="createFieldStep2.defaultValue.$error.pattern && !popupCtrl.defaultValueError">
										should be a valid number
									</small>
									<small class="error ng-hide" ng-show="popupCtrl.defaultValueError">
										{{popupCtrl.defaultValueMessage}}
									</small>
								</div>
							</div>
						</div>
						<div class="col-sm-6">
							<div class="form-group" ng-class="{ 'has-error' : createFieldStep2.decimalPlaces.$invalid && !createFieldStep2.decimalPlaces.$pristine || popupCtrl.decimalPlacesError}">
								<label class="control-label">Decimal Places</label>
								<input class="form-control" ng-model="popupCtrl.field.decimalPlaces" name="decimalPlaces" type="text"
									   pattern="^[0-9]*$" ng-model-options="{allowInvalid:true}" />
								<div class="error ng-hide" ng-show="createFieldStep2.decimalPlaces.$touched && createFieldStep2.decimalPlaces.$dirty && createFieldStep2.decimalPlaces.$invalid || popupCtrl.decimalPlacesError">
									<small class="error ng-hide" ng-show="createFieldStep2.decimalPlaces.$error.pattern && !popupCtrl.decimalPlacesError">
										should be a valid decimal
									</small>
									<small class="error ng-hide" ng-show="popupCtrl.decimalPlacesError">
										{{popupCtrl.decimalPlacesMessage}}
									</small>
								</div>
							</div>
						</div>
					</div>
					<div class="row">
						<div class="col-sm-6">
							<div class="form-group" ng-class="{ 'has-error' : createFieldStep2.minValue.$invalid && !createFieldStep2.minValue.$pristine || popupCtrl.minValueError}">
								<label class="control-label">Minimum value</label>
								<input class="form-control" ng-model="popupCtrl.field.minValue" name="minValue" type="number"
									   pattern="^\d+(\.\d{1,5})?$" ng-model-options="{allowInvalid:true}" />
								<div class="error ng-hide" ng-show="createFieldStep2.minValue.$touched && createFieldStep2.minValue.$dirty && createFieldStep2.minValue.$invalid || popupCtrl.minValueError">
									<small class="error ng-hide" ng-show="createFieldStep2.minValue.$error.pattern && !popupCtrl.minValueError">
										should be a valid decimal
									</small>
									<small class="error ng-hide" ng-show="popupCtrl.minValueError">
										{{popupCtrl.minValueMessage}}
									</small>
								</div>
							</div>
						</div>
						<div class="col-sm-6">
							<div class="form-group" ng-class="{ 'has-error' : createFieldStep2.maxValue.$invalid && !createFieldStep2.maxValue.$pristine || popupCtrl.maxValueError}">
								<label class="control-label">Maximum value</label>
								<input class="form-control" ng-model="popupCtrl.field.maxValue" name="minValue" type="number"
									   pattern="^\d+(\.\d{1,5})?$" ng-model-options="{allowInvalid:true}" />
								<div class="error ng-hide" ng-show="createFieldStep2.maxValue.$touched && createFieldStep2.maxValue.$dirty && createFieldStep2.maxValue.$invalid || popupCtrl.maxValueError">
									<small class="error ng-hide" ng-show="createFieldStep2.maxValue.$error.pattern && !popupCtrl.maxValueError">
										should be a valid decimal
									</small>
									<small class="error ng-hide" ng-show="popupCtrl.maxValueError">
										{{popupCtrl.maxValueMessage}}
									</small>
								</div>
							</div>
						</div>
					</div>
				</div>
				<!--Password 13 -->
				<div ng-if="popupCtrl.wizard.selectedType.id == 13">
					<div class="row">
						<div class="col-sm-6">
							<input type="hidden" value="{{popupCtrl.wizard.selectedType.id}}" name="fieldType" />
							<div class="form-group" ng-class="{ 'has-error' : createFieldStep2.maxLength.$invalid && !createFieldStep2.maxLength.$pristine || popupCtrl.maxLengthError}">
								<label class="control-label" ng-class="{'required':popupCtrl.maxLength.required}">Maximum Length</label>
								<input class="form-control" ng-model="popupCtrl.field.maxLength" name="maxLength" type="text"
									   ng-required="popupCtrl.maxLength.required" pattern="^[0-9]*$" ng-model-options="{allowInvalid:true}" />
								<div class="error ng-hide" ng-show="createFieldStep2.maxLength.$touched && createFieldStep2.maxLength.$dirty && createFieldStep2.maxLength.$invalid || popupCtrl.maxLengthError">
									<small class="error ng-hide" ng-show="createFieldStep2.maxLength.$error.required && !popupCtrl.maxLengthError">
										required field
									</small>
									<small class="error ng-hide" ng-show="createFieldStep2.maxLength.$error.pattern && !popupCtrl.maxLengthError">
										should be a valid number
									</small>
									<small class="error ng-hide" ng-show="popupCtrl.maxLengthError">
										{{popupCtrl.maxLengthMessage}}
									</small>
								</div>
							</div>
						</div>
						<div class="col-sm-6">
							<div class="form-group">
								<label class="control-label">Encryption</label>
								<div class="checkbox">
									<label>
										<input ng-model="popupCtrl.field.encrypted" name="encrypted" type="checkbox" />
										the data should be stored encrypted in the database
									</label>
								</div>
							</div>
						</div>
					</div>
					<div class="row">
						<div class="col-sm-6">
							<div class="form-group">
								<label class="control-label">Mask type</label>
								<select class="form-control" ng-model="popupCtrl.field.maskType" name="maskType">
									<option value="0" selected>None</option>
									<option value="1" selected>Mask all characters</option>
									<option value="2" selected>Show only the last 4 chars</option>
									<option value="3" selected>Credit Card Number</option>
									<option value="4" selected>National Insurance Number</option>
									<option value="5" selected>Social Security Number</option>
									<option value="6" selected>Social Insurance Number</option>
								</select>
							</div>
						</div>
						<div class="col-sm-6">

						</div>
					</div>
				</div>
				<!--Percent 14-->
				<div ng-if="popupCtrl.wizard.selectedType.id == 14">
					<div class="row">
						<input type="hidden" value="{{popupCtrl.wizard.selectedType.id}}" name="fieldType" />
						<div class="col-sm-6">
							<div class="form-group" ng-class="{ 'has-error' : createFieldStep2.defaultValue.$invalid && !createFieldStep2.defaultValue.$pristine || popupCtrl.defaultValueError}">
								<label class="control-label" ng-class="{'required':popupCtrl.field.required}">Default value</label>
								<input class="form-control" ng-model="popupCtrl.field.defaultValue" name="defaultValue" type="text"
									   ng-required="popupCtrl.field.required" pattern="^\d+(\.\d{1,5})?$" ng-model-options="{allowInvalid:true}" />
								<div class="error ng-hide" ng-show="createFieldStep2.defaultValue.$touched && createFieldStep2.defaultValue.$dirty && createFieldStep2.defaultValue.$invalid || popupCtrl.defaultValueError">
									<small class="error ng-hide" ng-show="createFieldStep2.defaultValue.$error.required && !popupCtrl.defaultValueError">
										required field
									</small>
									<small class="error ng-hide" ng-show="createFieldStep2.defaultValue.$error.pattern && !popupCtrl.defaultValueError">
										should be a valid number
									</small>
									<small class="error ng-hide" ng-show="popupCtrl.defaultValueError">
										{{popupCtrl.defaultValueMessage}}
									</small>
								</div>
							</div>
						</div>
						<div class="col-sm-6">
							<div class="form-group" ng-class="{ 'has-error' : createFieldStep2.decimalPlaces.$invalid && !createFieldStep2.decimalPlaces.$pristine || popupCtrl.decimalPlacesError}">
								<label class="control-label">Decimal Places</label>
								<input class="form-control" ng-model="popupCtrl.field.decimalPlaces" name="decimalPlaces" type="text"
									   pattern="^[0-9]*$" ng-model-options="{allowInvalid:true}" />
								<div class="error ng-hide" ng-show="createFieldStep2.decimalPlaces.$touched && createFieldStep2.decimalPlaces.$dirty && createFieldStep2.decimalPlaces.$invalid || popupCtrl.decimalPlacesError">
									<small class="error ng-hide" ng-show="createFieldStep2.decimalPlaces.$error.pattern && !popupCtrl.decimalPlacesError">
										should be a valid decimal
									</small>
									<small class="error ng-hide" ng-show="popupCtrl.decimalPlacesError">
										{{popupCtrl.decimalPlacesMessage}}
									</small>
								</div>
							</div>
						</div>
					</div>
					<div class="row">
						<div class="col-sm-6">
							<div class="form-group" ng-class="{ 'has-error' : createFieldStep2.minValue.$invalid && !createFieldStep2.minValue.$pristine || popupCtrl.minValueError}">
								<label class="control-label">Minimum value</label>
								<input class="form-control" ng-model="popupCtrl.field.minValue" name="minValue" type="number"
									   pattern="^\d+(\.\d{1,5})?$" ng-model-options="{allowInvalid:true}" />
								<div class="error ng-hide" ng-show="createFieldStep2.minValue.$touched && createFieldStep2.minValue.$dirty && createFieldStep2.minValue.$invalid || popupCtrl.minValueError">
									<small class="error ng-hide" ng-show="createFieldStep2.minValue.$error.pattern && !popupCtrl.minValueError">
										should be a valid decimal
									</small>
									<small class="error ng-hide" ng-show="popupCtrl.minValueError">
										{{popupCtrl.minValueMessage}}
									</small>
								</div>
							</div>
						</div>
						<div class="col-sm-6">
							<div class="form-group" ng-class="{ 'has-error' : createFieldStep2.maxValue.$invalid && !createFieldStep2.maxValue.$pristine || popupCtrl.maxValueError}">
								<label class="control-label">Maximum value</label>
								<input class="form-control" ng-model="popupCtrl.field.maxValue" name="minValue" type="number"
									   pattern="^\d+(\.\d{1,5})?$" ng-model-options="{allowInvalid:true}" />
								<div class="error ng-hide" ng-show="createFieldStep2.maxValue.$touched && createFieldStep2.maxValue.$dirty && createFieldStep2.maxValue.$invalid || popupCtrl.maxValueError">
									<small class="error ng-hide" ng-show="createFieldStep2.maxValue.$error.pattern && !popupCtrl.maxValueError">
										should be a valid decimal
									</small>
									<small class="error ng-hide" ng-show="popupCtrl.maxValueError">
										{{popupCtrl.maxValueMessage}}
									</small>
								</div>
							</div>
						</div>
					</div>
				</div>
				<!--Phone 15-->
				<div ng-if="popupCtrl.wizard.selectedType.id == 15">
					<div class="row">
						<div class="col-sm-6">
							<input type="hidden" value="{{popupCtrl.wizard.selectedType.id}}" name="fieldType" />

							<div class="form-group" ng-class="{ 'has-error' : createFieldStep2.defaultValue.$invalid && !createFieldStep2.defaultValue.$pristine || popupCtrl.defaultValueError}">
								<label class="control-label" ng-class="{'required':popupCtrl.field.required}">Default value</label>
								<input class="form-control" ng-model="popupCtrl.field.defaultValue" name="defaultValue" type="text"
									   ng-required="popupCtrl.field.required" ng-model-options="{allowInvalid:true}" />
								<div class="error ng-hide" ng-show="createFieldStep2.defaultValue.$touched && createFieldStep2.defaultValue.$dirty && createFieldStep2.defaultValue.$invalid || popupCtrl.defaultValueError">
									<small class="error ng-hide" ng-show="createFieldStep2.defaultValue.$error.required && !popupCtrl.defaultValueError">
										required field
									</small>
									<small class="error ng-hide" ng-show="createFieldStep2.defaultValue.$error.validDate && !popupCtrl.defaultValueError">
										this string is not a valid date format
									</small>
									<small class="error ng-hide" ng-show="popupCtrl.defaultValueError">
										{{popupCtrl.defaultValueMessage}}
									</small>
								</div>
							</div>

						</div>
						<div class="col-sm-6">
							<div class="form-group" ng-class="{ 'has-error' : createFieldStep2.format.$invalid && !createFieldStep2.format.$pristine || popupCtrl.formatError}">
								<label class="control-label" ng-class="{'required':popupCtrl.field.required}">Presentation Format</label>
								<input class="form-control" ng-model="popupCtrl.field.format" name="format" type="text"
									   ng-required="popupCtrl.field.required" placeholder="" ng-model-options="{allowInvalid:true}" />
								<div class="error ng-hide" ng-show="createFieldStep2.format.$touched && createFieldStep2.format.$dirty && createFieldStep2.format.$invalid || popupCtrl.formatError">
									<small class="error ng-hide" ng-show="createFieldStep2.format.$error.required && !popupCtrl.formatError">
										required field
									</small>
									<small class="error ng-hide" ng-show="popupCtrl.formatError">
										{{popupCtrl.formatMessage}}
									</small>
								</div>
							</div>
						</div>
					</div>
					<div class="row">
						<div class="col-sm-6">
							<div class="form-group" ng-class="{ 'has-error' : createFieldStep2.maxLength.$invalid && !createFieldStep2.maxLength.$pristine || popupCtrl.maxLengthError}">
								<label class="control-label" ng-class="{'required':popupCtrl.maxLength.required}">Maximum Length</label>
								<input class="form-control" ng-model="popupCtrl.field.maxLength" name="maxLength" type="text"
									   ng-required="popupCtrl.maxLength.required" pattern="^[0-9]*$" ng-model-options="{allowInvalid:true}" />
								<div class="error ng-hide" ng-show="createFieldStep2.maxLength.$touched && createFieldStep2.maxLength.$dirty && createFieldStep2.maxLength.$invalid || popupCtrl.maxLengthError">
									<small class="error ng-hide" ng-show="createFieldStep2.maxLength.$error.required && !popupCtrl.maxLengthError">
										required field
									</small>
									<small class="error ng-hide" ng-show="createFieldStep2.maxLength.$error.pattern && !popupCtrl.maxLengthError">
										should be a valid number
									</small>
									<small class="error ng-hide" ng-show="popupCtrl.maxLengthError">
										{{popupCtrl.maxLengthMessage}}
									</small>
								</div>
							</div>
						</div>
						<div class="col-sm-6">

						</div>
					</div>
				</div>
				<!--Identifier GUID 16 -->
				<div ng-if="popupCtrl.wizard.selectedType.id == 16">
					<div class="row">
						<div class="col-sm-6">
							<input type="hidden" value="{{popupCtrl.wizard.selectedType.id}}" name="fieldType" />
							<div class="form-group" ng-class="{ 'has-error' : (createFieldStep2.defaultValue.$invalid && !createFieldStep2.defaultValue.$pristine || popupCtrl.defaultValueError)  && popupCtrl.defaultValueTextboxEnabled}">
								<label class="control-label" ng-class="{'required':popupCtrl.field.required}">Default value</label>
								<input class="form-control" ng-model="popupCtrl.field.defaultValue" name="defaultValue" type="text" ng-model-options="{allowInvalid:true}"
									   ng-required="popupCtrl.field.required" placeholder="{{popupCtrl.defaultValueTextboxPlaceholder}}"
									   ng-disabled="!popupCtrl.defaultValueTextboxEnabled" pattern="^(\{){0,1}[0-9a-fA-F]{8}\-[0-9a-fA-F]{4}\-[0-9a-fA-F]{4}\-[0-9a-fA-F]{4}\-[0-9a-fA-F]{12}(\}){0,1}$" />
								<div class="error ng-hide" ng-show="(createFieldStep2.defaultValue.$touched && createFieldStep2.defaultValue.$dirty && createFieldStep2.defaultValue.$invalid || popupCtrl.defaultValueError) && popupCtrl.defaultValueTextboxEnabled">
									<small class="error ng-hide" ng-show="createFieldStep2.defaultValue.$error.required && !popupCtrl.defaultValueError">
										required field
									</small>
									<small class="error ng-hide" ng-show="createFieldStep2.defaultValue.$error.pattern && !popupCtrl.defaultValueError">
										should be a valid GUID
									</small>
									<small class="error ng-hide" ng-show="popupCtrl.defaultValueError">
										{{popupCtrl.defaultValueMessage}}
									</small>
								</div>

							</div>
						</div>
						<div class="col-sm-6">
							<div class="form-group">
								<label class="control-label">GUID Generation</label>
								<div class="checkbox">
									<label>
										<input ng-model="popupCtrl.field.generateNewId" name="generateNewId" type="checkbox"
											   ng-change='popupCtrl.uniqueGuidGenerateToggle(popupCtrl.field.generateNewId)'
											   ng-disabled="!popupCtrl.uniqueGuidGenerateCheckboxEnabled" />
										automatically generate new GUID as default
									</label>
								</div>
							</div>
						</div>
					</div>
				</div>
				<!--Dropdown 17 -->
				<div ng-if="popupCtrl.wizard.selectedType.id == 17">
					<div class="row">
						<div class="col-sm-6">
							<input type="hidden" value="{{popupCtrl.wizard.selectedType.id}}" name="fieldType" />
							<div class="form-group" ng-class="{ 'has-error' : createFieldStep2.defaultValue.$invalid && !createFieldStep2.defaultValue.$pristine || popupCtrl.defaultValueError}">
								<label class="control-label" ng-class="{'required':popupCtrl.field.required}">Default value</label>
								<input class="form-control" ng-model="popupCtrl.field.defaultValue" name="defaultValue" type="text" ng-model-options="{allowInvalid:true}"
									   ng-required="popupCtrl.field.required" placeholder="e.g. email@domain.com" />
								<div class="error ng-hide" ng-show="createFieldStep2.defaultValue.$touched && createFieldStep2.defaultValue.$dirty && createFieldStep2.defaultValue.$invalid || popupCtrl.defaultValueError">
									<small class="error ng-hide" ng-show="createFieldStep2.defaultValue.$error.required && !popupCtrl.defaultValueError">
										required field
									</small>
									<small class="error ng-hide" ng-show="popupCtrl.defaultValueError">
										{{popupCtrl.defaultValueMessage}}
									</small>
								</div>
							</div>

						</div>
					</div>
					<div class="row">
						<div class="col-sm-12">
							<div class="form-group">
								<label class="control-label">Options</label>
							</div>
						</div>
					</div>
					<div class="row">
						<div class="col-sm-12" style="padding-bottom:1em;">
							<a href="javascript:void(0)" class="btn btn-success" ng-click="popupCtrl.addDropdownValue()">add option</a>
						</div>
					</div>
					<div class="row">
						<div class="col-sm-12">
							<table class="table table-bordered" ng-hide="popupCtrl.field.options.length == 0">
								<thead>
									<tr>
										<th>value</th>
										<th>label</th>
										<th style="width:60px;"></th>
									</tr>
								</thead>
								<tbody>
									<tr ng-repeat="option in popupCtrl.field.options">
										<td><input class="form-control" ng-model="option.key" /></td>
										<td><input class="form-control" ng-model="option.value" /></td>
										<td><a ng-click="popupCtrl.deleteDropdownValue($index)" href="javascript:void(0)" class="btn btn-sm btn-default go-red"><i class="fa fa-fw fa-close"></i></a></td>
									</tr>
								</tbody>
							</table>
							<br />
						</div>
					</div>
				</div>
				<!--Text 18 -->
				<div ng-if="popupCtrl.wizard.selectedType.id == 18">
					<div class="row">
						<div class="col-sm-6">
							<input type="hidden" value="{{popupCtrl.wizard.selectedType.id}}" name="fieldType" />
							<div class="form-group" ng-class="{ 'has-error' : createFieldStep2.defaultValue.$invalid && !createFieldStep2.defaultValue.$pristine || popupCtrl.defaultValueError}">
								<label class="control-label" ng-class="{'required':popupCtrl.field.required}">Default value</label>
								<input class="form-control" ng-model="popupCtrl.field.defaultValue" name="defaultValue" type="text"
									   ng-required="popupCtrl.field.required" ng-model-options="{allowInvalid:true}" />
								<div class="error ng-hide" ng-show="createFieldStep2.defaultValue.$touched && createFieldStep2.defaultValue.$dirty && createFieldStep2.defaultValue.$invalid || popupCtrl.defaultValueError">
									<small class="error ng-hide" ng-show="createFieldStep2.defaultValue.$error.required && !popupCtrl.defaultValueError">
										required field
									</small>
									<small class="error ng-hide" ng-show="popupCtrl.defaultValueError">
										{{popupCtrl.defaultValueMessage}}
									</small>
								</div>
							</div>

						</div>
						<div class="col-sm-6">
							<div class="form-group" ng-class="{ 'has-error' : createFieldStep2.maxLength.$invalid && !createFieldStep2.maxLength.$pristine || popupCtrl.maxLengthError}">
								<label class="control-label" ng-class="{'required':popupCtrl.maxLength.required}">Maximum Length</label>
								<input class="form-control" ng-model="popupCtrl.field.maxLength" name="maxLength" type="text" ng-model-options="{allowInvalid:true}"
									   ng-required="popupCtrl.maxLength.required" pattern="^[0-9]*$" />
								<div class="error ng-hide" ng-show="createFieldStep2.maxLength.$touched && createFieldStep2.maxLength.$dirty && createFieldStep2.maxLength.$invalid || popupCtrl.maxLengthError">
									<small class="error ng-hide" ng-show="createFieldStep2.maxLength.$error.required && !popupCtrl.maxLengthError">
										required field
									</small>
									<small class="error ng-hide" ng-show="createFieldStep2.maxLength.$error.pattern && !popupCtrl.maxLengthError">
										should be a valid number
									</small>
									<small class="error ng-hide" ng-show="popupCtrl.maxLengthError">
										{{popupCtrl.maxLengthMessage}}
									</small>
								</div>
							</div>
						</div>
					</div>
				</div>
				<!--URL 19 -->
				<div ng-if="popupCtrl.wizard.selectedType.id == 19">
					<div class="row">
						<div class="col-sm-6">
							<input type="hidden" value="{{popupCtrl.wizard.selectedType.id}}" name="fieldType" />
							<div class="form-group" ng-class="{ 'has-error' : createFieldStep2.defaultValue.$invalid && !createFieldStep2.defaultValue.$pristine || popupCtrl.defaultValueError}">
								<label class="control-label" ng-class="{'required':popupCtrl.field.required}">Default value</label>
								<input class="form-control" ng-model="popupCtrl.field.defaultValue" name="defaultValue" type="text" ng-model-options="{allowInvalid:true}"
									   ng-required="popupCtrl.field.required" />
								<div class="error ng-hide" ng-show="createFieldStep2.defaultValue.$touched && createFieldStep2.defaultValue.$dirty && createFieldStep2.defaultValue.$invalid || popupCtrl.defaultValueError">
									<small class="error ng-hide" ng-show="createFieldStep2.defaultValue.$error.required && !popupCtrl.defaultValueError">
										required field
									</small>
									<small class="error ng-hide" ng-show="popupCtrl.defaultValueError">
										{{popupCtrl.defaultValueMessage}}
									</small>
								</div>
							</div>

						</div>
						<div class="col-sm-6">
							<div class="form-group" ng-class="{ 'has-error' : createFieldStep2.maxLength.$invalid && !createFieldStep2.maxLength.$pristine || popupCtrl.maxLengthError}">
								<label class="control-label" ng-class="{'required':popupCtrl.maxLength.required}">Maximum Length</label>
								<input class="form-control" ng-model="popupCtrl.field.maxLength" name="maxLength" type="text" ng-model-options="{allowInvalid:true}"
									   ng-required="popupCtrl.maxLength.required" pattern="^[0-9]*$" />
								<div class="error ng-hide" ng-show="createFieldStep2.maxLength.$touched && createFieldStep2.maxLength.$dirty && createFieldStep2.maxLength.$invalid || popupCtrl.maxLengthError">
									<small class="error ng-hide" ng-show="createFieldStep2.maxLength.$error.required && !popupCtrl.maxLengthError">
										required field
									</small>
									<small class="error ng-hide" ng-show="createFieldStep2.maxLength.$error.pattern && !popupCtrl.maxLengthError">
										should be a valid number
									</small>
									<small class="error ng-hide" ng-show="popupCtrl.maxLengthError">
										{{popupCtrl.maxLengthMessage}}
									</small>
								</div>
							</div>
						</div>
					</div>
					<div class="row">
						<div class="col-sm-6">
							<div class="form-group">
								<label class="control-label">Link target</label>
								<div class="checkbox">
									<label>
										<input ng-model="popupCtrl.field.openTargetInNewWindow" name="openTargetInNewWindow" type="checkbox" />
										open the link in a new window/tab
									</label>
								</div>
							</div>
						</div>
						<div class="col-sm-6">

						</div>
					</div>
				</div>
				<!--Tree select 21 -->
				<div ng-if="popupCtrl.wizard.selectedType.id == 21">
					<input type="hidden" value="{{popupCtrl.wizard.selectedType.id}}" name="fieldType" />
					<div class="row">
						<div class="col-sm-6">
							<div class="form-group">
								<label class="control-label" for="name">Related Entity with the tree </label>
								<select class="form-control" ng-model="popupCtrl.field.relatedEntityId" name="relatedEntityId" 
										ng-options="s.id as s.name for s in popupCtrl.eligibleEntitiesForTree"></select>
								<div class="form-description">entities that have 1:N or N:N relations as origin with the current and have existing trees</div>
							</div>
						</div>
					</div>
					<div class="row">
						<div class="col-sm-6">
							<div class="form-group">
								<label class="control-label" for="name">Record tree </label>
								<select class="form-control" ng-model="popupCtrl.field.selectedTreeId" name="selectedTreeId" 
										ng-options="s.id as s.name for s in popupCtrl.selectedEntityTrees"></select>
							</div>
						</div>
						<div class="col-sm-6">
							<div class="form-group">
								<label class="control-label" for="name">Relation between the current and target entity</label>
								<select class="form-control" ng-model="popupCtrl.field.relationId" name="relationId"
										ng-options="s.id as s.name for s in popupCtrl.selectedEntityRelations"></select>
							</div>
						</div>
					</div>
					<div class="row">
						<div class="col-sm-6">
							<div class="form-group">
								<label class="control-label required">Selection type</label>
								<select class="form-control" ng-model="popupCtrl.field.selectionType" name="selectionType" 
										ng-options="s.key as s.value for s in popupCtrl.selectionTypes"></select>
							</div>
						</div>
						<div class="col-sm-6">
							<div class="form-group">
								<label class="control-label required">Selection target</label>
								<select class="form-control" ng-model="popupCtrl.field.selectionTarget" name="selectionTarget" type="text"
										ng-options="s.key as s.value for s in popupCtrl.selectionTargets"></select>
							</div>
						</div>
					</div>
				</div>

				<div class="row">
					<div class="col-sm-12">
						<div class="form-group">
							<label class="control-label">Field Security</label>
							<div class="checkbox">
								<label>
									<input type="checkbox" ng-model="popupCtrl.field.enableSecurity" value="true"> enable field security
								</label>
							</div>
						</div>
					</div>
				</div>

				<div class="row ng-hide" ng-show="popupCtrl.field.enableSecurity">
					<div class="col-sm-12">
						<div class="form-group">
							<label class="control-label">Record permissions</label>
							<table class="table table-bordered table-permissions">
								<thead>
									<tr>
										<th style="width:20%">role name</th>
										<th style="width:20%">read</th>
										<th style="width:20%">update</th>
									</tr>
								</thead>
								<tbody>
									<tr ng-repeat="role in popupCtrl.fieldPermissions">
										<td>{{role.label}}</td>
										<td>
											<div class="checkbox">
												<label>
													<input type="checkbox" ng-model="role.canRead" ng-change="popupCtrl.togglePermissionRole('canRead',role.id)"> true
												</label>
											</div>
										</td>
										<td class="position-relative">
											<div class="checkbox">
												<label>
													<input type="checkbox" ng-model="role.canUpdate" ng-change="popupCtrl.togglePermissionRole('canUpdate',role.id)"> true
												</label>
											</div>
										</td>
									</tr>
								</tbody>
							</table>
						</div>
					</div>
				</div>
			</form>
		</div>

	</div>


	<div class="modal-footer">
		<p ng-show="popupCtrl.wizard.steps[1].active" class="ng-hide"><i class="fa fa-fw fa-info-circle"></i> To proceed, press the Select button of a filed type</p>
		<div ng-show="popupCtrl.wizard.steps[2].active" class="ng-hide">
			<button class="btn btn-default pull-left" ng-click="popupCtrl.setActiveStep(1)"><i class="fa fa-fw fa-backward"></i> Back</button>
			<button class="btn btn-success pull-right ng-hide" ng-click="popupCtrl.ok()" ng-hide="popupCtrl.createFieldStep2Error"><i class="fa fa-fw fa-plus"></i> Create Field</button>
		</div>
	</div>
</script>


<script type="text/ng-template" id="manageFieldModal.html">
	<div class="modal-header" id="modal-top">
		<button type="button" class="close" ng-click="popupCtrl.cancel('cancel')" aria-label="Close"><span aria-hidden="true">&times;</span></button>
		<h3 class="modal-title">
			Manage <span class="go-red"> {{popupCtrl.fieldType.label}}</span> field
		</h3>
	</div>
	<div class="modal-body">
		<div class="alert alert-danger ng-hide" ng-show="!popupCtrl.isEmpty(popupCtrl.validation)">
			<ul>
				<li ng-repeat="(key, value) in popupCtrl.validation">
					{{value.message}}
				</li>
			</ul>
		</div>
		<form class="form" name="manageFieldForm">
			<div class="row">
				<div class="col-sm-6">
					<div class="form-group">
						<label class="control-label required">Name</label>
						<p class="form-control-static">{{popupCtrl.field.name}}</p>
					</div>
				</div>
				<div class="col-sm-6">
					<div class="form-group" ng-class="{ 'has-error' : manageFieldForm.label.$invalid && !manageFieldForm.label.$pristine || popupCtrl.labelError}">
						<label class="control-label required">Label</label>
						<input class="form-control" ng-model="popupCtrl.field.label" name="label" type="text" ng-model-options="{allowInvalid:true}"
							   required />
						<div class="error ng-hide" ng-show="manageFieldForm.label.$touched && manageFieldForm.label.$dirty && manageFieldForm.label.$invalid || popupCtrl.labelError">
							<small class="error ng-hide" ng-show="manageFieldForm.label.$error.required && !popupCtrl.labelError">
								required field
							</small>
							<small class="error ng-hide" ng-show="popupCtrl.labelError">
								{{popupCtrl.labelMessage}}
							</small>
						</div>
					</div>
				</div>
			</div>
			<div class="row">
				<div class="col-sm-6">
					<div class="form-group" ng-class="{ 'has-error' : manageFieldForm.placeholderText.$invalid && !manageFieldForm.placeholderText.$pristine || popupCtrl.placeholderTextError}">
						<label class="control-label">Placeholder text</label>
						<input class="form-control" ng-model="popupCtrl.field.placeholderText" name="placeholderText" type="text" ng-model-options="{allowInvalid:true}" />
						<div class="error ng-hide" ng-show="manageFieldForm.placeholderText.$touched && manageFieldForm.placeholderText.$dirty && manageFieldForm.placeholderText.$invalid || popupCtrl.placeholderTextError">
							<small class="error ng-hide" ng-show="popupCtrl.placeholderTextError">
								{{popupCtrl.placeholderTextMessage}}
							</small>
						</div>
					</div>
				</div>
				<div class="col-sm-6">
					<div class="form-group">
						<label for="requiredStatus" class="control-label">Required</label>
						<div class="checkbox">
							<label>
								<input ng-model="popupCtrl.field.required" type="checkbox" id="requiredStatus" value="true">
								this is a required field
							</label>
						</div>
					</div>
				</div>
			</div>
			<div class="row">
				<div class="col-sm-6">
					<div class="form-group" ng-class="{ 'has-error' : manageFieldForm.description.$invalid && !manageFieldForm.description.$pristine || popupCtrl.descriptionError}">
						<label class="control-label">Description</label>
						<input class="form-control" ng-model="popupCtrl.field.description" name="description" type="text" ng-model-options="{allowInvalid:true}" />
						<div class="error ng-hide" ng-show="manageFieldForm.description.$touched && manageFieldForm.description.$dirty && manageFieldForm.description.$invalid || popupCtrl.descriptionError">
							<small class="error ng-hide" ng-show="popupCtrl.descriptionError">
								{{popupCtrl.descriptionTextMessage}}
							</small>
						</div>
					</div>
				</div>
				<div class="col-sm-6">
					<div class="form-group">
						<label for="uniqueStatus" class="control-label">Unique status</label>
						<div class="checkbox">
							<label>
								<input ng-model="popupCtrl.field.unique" type="checkbox" id="uniqueStatus" value="true" ng-change="popupCtrl.uniqueGuidPropertyChecked(popupCtrl.field.unique)">
								all values of the field should be unique
							</label>
						</div>
					</div>

				</div>
			</div>
			<div class="row">
				<div class="col-sm-6">
					<div class="form-group" ng-class="{ 'has-error' : manageFieldForm.helpText.$invalid && !manageFieldForm.helpText.$pristine || popupCtrl.helpTextError}">
						<label class="control-label">Help text</label>
						<input class="form-control" ng-model="popupCtrl.field.helpText" name="helpText" type="text" ng-model-options="{allowInvalid:true}" />
						<div class="error ng-hide" ng-show="manageFieldForm.helpText.$touched && manageFieldForm.helpText.$dirty && manageFieldForm.helpText.$invalid || popupCtrl.helpTextError">
							<small class="error ng-hide" ng-show="popupCtrl.helpTextError">
								{{popupCtrl.helpTextMessage}}
							</small>
						</div>
					</div>
				</div>
				<div class="col-sm-6">
					<div class="form-group">
						<label for="systemStatus" class="control-label">System Status</label>
						<div class="checkbox">
							<label>
								<input ng-model="popupCtrl.field.system" type="checkbox" id="systemStatus" value="true">
								this is a system field <span class="go-grey">(deletion is locked)</span>
							</label>
						</div>
					</div>
				</div>
			</div>
			<div class="row">
				<div class="col-sm-6">
					<div class="form-group">
						<label for="searchableStatus" class="control-label">Searchable</label>
						<div class="checkbox" ng-if="popupCtrl.field.fieldType != 13">
							<label>
								<input ng-model="popupCtrl.field.searchable" type="checkbox" id="searchableStatus" value="true">
								the values of this field should be included in the search index
							</label>
						</div>
						<div class="form-control-static" ng-if="popupCtrl.field.fieldType == 13">password cannot be searchable</div>
					</div>

				</div>
				<div class="col-sm-6">
					<div class="form-group">
						<label for="auditableStatus" class="control-label">Auditable</label>
						<div class="checkbox">
							<label>
								<input ng-model="popupCtrl.field.auditable" type="checkbox" id="auditableStatus" value="true">
								change history should be kept for this field
							</label>
						</div>
					</div>
				</div>
			</div>
			<!--Auto increment 1 -->
			<div ng-if="popupCtrl.fieldType.id == 1">

				<div class="row">
					<input type="hidden" value="{{popupCtrl.fieldType.id}}" name="fieldType" />
					<div class="col-sm-6">
						<div class="form-group" ng-class="{ 'has-error' : manageFieldForm.defaultValue.$invalid && !manageFieldForm.defaultValue.$pristine || popupCtrl.defaultValueError}">
							<label class="control-label" ng-class="{'required':popupCtrl.field.required}">Default value</label>
							<input class="form-control" ng-model="popupCtrl.field.defaultValue" name="defaultValue" type="text"
								   ng-required="popupCtrl.field.required" pattern="^[0-9]*$" ng-model-options="{allowInvalid:true}" />
							<div class="error ng-hide" ng-show="manageFieldForm.defaultValue.$touched && manageFieldForm.defaultValue.$dirty && manageFieldForm.defaultValue.$invalid || popupCtrl.defaultValueError">
								<small class="error ng-hide" ng-show="manageFieldForm.defaultValue.$error.required && !popupCtrl.defaultValueError">
									required field
								</small>
								<small class="error ng-hide" ng-show="manageFieldForm.defaultValue.$error.pattern && !popupCtrl.defaultValueError">
									should be a valid number
								</small>
								<small class="error ng-hide" ng-show="popupCtrl.defaultValueError">
									{{popupCtrl.defaultValueMessage}}
								</small>
							</div>
						</div>
					</div>
					<div class="col-sm-6">
						<div class="form-group">
							<label class="control-label">Starting number</label>
							<input class="form-control disabled" value="{{popupCtrl.field.startingNumber}}" disabled />
						</div>
					</div>
				</div>
				<div class="row">
					<div class="col-sm-6">
						<div class="form-group" ng-class="{ 'has-error' : manageFieldForm.displayFormat.$invalid && !manageFieldForm.displayFormat.$pristine || popupCtrl.displayFormatError}">
							<label class="control-label">Display format</label>
							<input class="form-control" ng-model="popupCtrl.field.displayFormat" name="displayFormat" placeholder="e.g. Order-{0}" type="text" ng-model-options="{allowInvalid:true}" />
							<div class="error ng-hide" ng-show="manageFieldForm.displayFormat.$touched && manageFieldForm.displayFormat.$dirty && manageFieldForm.displayFormat.$invalid || popupCtrl.displayFormatError">
								<small class="error ng-hide" ng-show="popupCtrl.displayFormatError">
									{{popupCtrl.displayFormatMessage}}
								</small>
							</div>
						</div>
					</div>
				</div>
			</div>
			<!--Checkbox 2 -->
			<div ng-if="popupCtrl.fieldType.id == 2">
				<div class="row">
					<div class="col-sm-6">
						<input type="hidden" value="{{popupCtrl.fieldType.id}}" name="fieldType" />
						<div class="form-group">
							<label class="control-label">Default value</label>
							<div class="checkbox">
								<label>
									<input ng-model="popupCtrl.field.defaultValue" name="defaultValue" type="checkbox" />
									make it checked by default
								</label>
							</div>
						</div>
					</div>
					<div class="col-sm-6">

					</div>
				</div>

			</div>
			<!--Currency 3 -->
			<div ng-if="popupCtrl.fieldType.id == 3">
				<div class="row">
					<div class="col-sm-6">
						<input type="hidden" value="{{popupCtrl.fieldType.id}}" name="fieldType" />
						<div class="form-group" ng-class="{ 'has-error' : manageFieldForm.defaultValue.$invalid && !manageFieldForm.defaultValue.$pristine || popupCtrl.defaultValueError}">
							<label class="control-label" ng-class="{'required':popupCtrl.field.required}">Default value</label>
							<input class="form-control" ng-model="popupCtrl.field.defaultValue" name="defaultValue" type="number"
								   ng-required="popupCtrl.field.required" pattern="^\d+(\.\d{1,5})?$" ng-model-options="{allowInvalid:true}" />
							<div class="error ng-hide" ng-show="manageFieldForm.defaultValue.$touched && manageFieldForm.defaultValue.$dirty && manageFieldForm.defaultValue.$invalid || popupCtrl.defaultValueError">
								<small class="error ng-hide" ng-show="manageFieldForm.defaultValue.$error.required && !popupCtrl.defaultValueError">
									required field
								</small>
								<small class="error ng-hide" ng-show="manageFieldForm.defaultValue.$error.pattern && !popupCtrl.defaultValueError">
									should be a valid decimal
								</small>
								<small class="error ng-hide" ng-show="popupCtrl.defaultValueError">
									{{popupCtrl.defaultValueMessage}}
								</small>
							</div>
						</div>
					</div>
					<div class="col-sm-6">

					</div>
				</div>
				<div class="row">
					<div class="col-sm-6">
						<div class="form-group" ng-class="{ 'has-error' : manageFieldForm.minValue.$invalid && !manageFieldForm.minValue.$pristine || popupCtrl.minValueError}">
							<label class="control-label">Minimum value</label>
							<input class="form-control" ng-model="popupCtrl.field.minValue" name="minValue" type="number"
								   pattern="^\d+(\.\d{1,5})?$" ng-model-options="{allowInvalid:true}" />
							<div class="error ng-hide" ng-show="manageFieldForm.minValue.$touched && manageFieldForm.minValue.$dirty && manageFieldForm.minValue.$invalid || popupCtrl.minValueError">
								<small class="error ng-hide" ng-show="manageFieldForm.minValue.$error.pattern && !popupCtrl.minValueError">
									should be a valid decimal
								</small>
								<small class="error ng-hide" ng-show="popupCtrl.minValueError">
									{{popupCtrl.minValueMessage}}
								</small>
							</div>
						</div>
					</div>
					<div class="col-sm-6">
						<div class="form-group" ng-class="{ 'has-error' : manageFieldForm.maxValue.$invalid && !manageFieldForm.maxValue.$pristine || popupCtrl.maxValueError}">
							<label class="control-label">Maximum value</label>
							<input class="form-control" ng-model="popupCtrl.field.maxValue" name="minValue" type="number"
								   pattern="^\d+(\.\d{1,5})?$" ng-model-options="{allowInvalid:true}" />
							<div class="error ng-hide" ng-show="manageFieldForm.maxValue.$touched && manageFieldForm.maxValue.$dirty && manageFieldForm.maxValue.$invalid || popupCtrl.maxValueError">
								<small class="error ng-hide" ng-show="manageFieldForm.maxValue.$error.pattern && !popupCtrl.maxValueError">
									should be a valid decimal
								</small>
								<small class="error ng-hide" ng-show="popupCtrl.maxValueError">
									{{popupCtrl.maxValueMessage}}
								</small>
							</div>
						</div>
					</div>
				</div>
				<div class="row">
					<div class="col-sm-6">
						<div class="form-group">
							<label class="control-label">Currency</label>
							<select class="form-control" ng-model="popupCtrl.selectedCurrencyMeta" ng-options="item.code as item.name for item in popupCtrl.ngCtrl.currencyMetas"></select>
						</div>
					</div>
				</div>

			</div>
			<!--Date 4 -->
			<div ng-if="popupCtrl.fieldType.id == 4">
				<div class="row">
					<div class="col-sm-6">
						<input type="hidden" value="{{popupCtrl.fieldType.id}}" name="fieldType" />

						<div class="form-group" ng-class="{ 'has-error' : manageFieldForm.defaultValue.$invalid && !manageFieldForm.defaultValue.$pristine || popupCtrl.defaultValueError}">
							<label class="control-label" ng-class="{'required':popupCtrl.field.required}">Default value</label>
							<div class="input-group">
								<input class="form-control" ng-model="popupCtrl.field.defaultValue" name="defaultValue" type="text"
									   ng-required="popupCtrl.field.required" placeholder="e.g. 2014-11-01" valid-date ng-model-options="{allowInvalid:true}"
									   datetime-picker="{{popupCtrl.field.format || 'dd MMM yyyy'}}" is-open="popupCtrl.calendars['defaultValue']" enable-date="true"
									   enable-time="false" ng-click="popupCtrl.openCalendar($event, 'defaultValue')" />
								<span class="input-group-btn">
									<button type="button" class="btn btn-default" ng-click="popupCtrl.openCalendar($event, 'defaultValue')"><i class="fa fa-calendar"></i></button>
								</span>
							</div>
							<div class="error ng-hide" ng-show="manageFieldForm.defaultValue.$touched && manageFieldForm.defaultValue.$dirty && manageFieldForm.defaultValue.$invalid || popupCtrl.defaultValueError">
								<small class="error ng-hide" ng-show="manageFieldForm.defaultValue.$error.required && !popupCtrl.defaultValueError">
									required field
								</small>
								<small class="error ng-hide" ng-show="manageFieldForm.defaultValue.$error.validDate && !popupCtrl.defaultValueError">
									this string is not a valid date format
								</small>
								<small class="error ng-hide" ng-show="popupCtrl.defaultValueError">
									{{popupCtrl.defaultValueMessage}}
								</small>
							</div>
						</div>

					</div>
					<div class="col-sm-6">
						<div class="form-group" ng-class="{ 'has-error' : manageFieldForm.format.$invalid && !manageFieldForm.format.$pristine || popupCtrl.formatError}">
							<label class="control-label" ng-class="{'required':popupCtrl.field.required}">Presentation Format</label>
							<input class="form-control" ng-model="popupCtrl.field.format" name="format" type="text" ng-model-options="{allowInvalid:true}"
								   ng-required="true" placeholder="e.g. yyyy-MM-dd" />
							<div class="error ng-hide" ng-show="manageFieldForm.format.$touched && manageFieldForm.format.$dirty && manageFieldForm.format.$invalid || popupCtrl.formatError">
								<small class="error ng-hide" ng-show="manageFieldForm.format.$error.required && !popupCtrl.formatError">
									required field
								</small>
								<small class="error ng-hide" ng-show="popupCtrl.formatError">
									{{popupCtrl.formatMessage}}
								</small>
							</div>
						</div>
					</div>
				</div>
				<div class="row">
					<div class="col-sm-6">
						<div class="form-group">
							<label class="control-label">Use Current Time as Default</label>
							<div class="checkbox">
								<label>
									<input ng-model="popupCtrl.field.useCurrentTimeAsDefaultValue" name="useCurrentTimeAsDefaultValue" type="checkbox" />
									use the date of the record generation as default
								</label>
							</div>
						</div>
					</div>
					<div class="col-sm-6">

					</div>
				</div>
			</div>
			<!--Date & Time 5 -->
			<div ng-if="popupCtrl.fieldType.id == 5">
				<div class="row">
					<div class="col-sm-6">
						<input type="hidden" value="{{popupCtrl.fieldType.id}}" name="fieldType" />

						<div class="form-group" ng-class="{ 'has-error' : manageFieldForm.defaultValue.$invalid && !manageFieldForm.defaultValue.$pristine || popupCtrl.defaultValueError}">
							<label class="control-label" ng-class="{'required':popupCtrl.field.required}">Default value</label>
							<div class="input-group">
								<input class="form-control" ng-model="popupCtrl.field.defaultValue" name="defaultValue" type="text"
									   ng-required="popupCtrl.field.required" placeholder="e.g. 2014-11-01 23:01" valid-date ng-model-options="{allowInvalid:true}"
									   datetime-picker="{{popupCtrl.field.format || 'dd MMM yyyy HH:mm'}}" is-open="popupCtrl.calendars['defaultValue']" enable-date="true" enable-time="true"
									   timepicker-options="{showMeridian:false}" ng-click="popupCtrl.openCalendar($event, 'defaultValue')" />
								<span class="input-group-btn">
									<button type="button" class="btn btn-default" ng-click="popupCtrl.openCalendar($event, 'defaultValue')"><i class="fa fa-calendar"></i></button>
								</span>
							</div>
							<div class="error ng-hide" ng-show="manageFieldForm.defaultValue.$touched && manageFieldForm.defaultValue.$dirty && manageFieldForm.defaultValue.$invalid || popupCtrl.defaultValueError">
								<small class="error ng-hide" ng-show="manageFieldForm.defaultValue.$error.required && !popupCtrl.defaultValueError">
									required field
								</small>
								<small class="error ng-hide" ng-show="manageFieldForm.defaultValue.$error.validDate && !popupCtrl.defaultValueError">
									this string is not a valid date format
								</small>
								<small class="error ng-hide" ng-show="popupCtrl.defaultValueError">
									{{popupCtrl.defaultValueMessage}}
								</small>
							</div>
						</div>

					</div>
					<div class="col-sm-6">
						<div class="form-group" ng-class="{ 'has-error' : manageFieldForm.format.$invalid && !manageFieldForm.format.$pristine || popupCtrl.formatError}">
							<label class="control-label" ng-class="{'required':popupCtrl.field.required}">Presentation Format</label>
							<input class="form-control" ng-model="popupCtrl.field.format" name="format" type="text"
								   ng-required="true" placeholder="e.g. yyyy-MM-dd" ng-model-options="{allowInvalid:true}" />
							<div class="error ng-hide" ng-show="manageFieldForm.format.$touched && manageFieldForm.format.$dirty && manageFieldForm.format.$invalid || popupCtrl.formatError">
								<small class="error ng-hide" ng-show="manageFieldForm.format.$error.required && !popupCtrl.formatError">
									required field
								</small>
								<small class="error ng-hide" ng-show="popupCtrl.formatError">
									{{popupCtrl.formatMessage}}
								</small>
							</div>
						</div>
					</div>
				</div>
				<div class="row">
					<div class="col-sm-6">
						<div class="form-group">
							<label class="control-label">Use Current Time as Default</label>
							<div class="checkbox">
								<label>
									<input ng-model="popupCtrl.field.useCurrentTimeAsDefaultValue" name="useCurrentTimeAsDefaultValue" type="checkbox" />
									use the date of the record generation as default
								</label>
							</div>
						</div>
					</div>
					<div class="col-sm-6">

					</div>
				</div>
			</div>
			<!--Email 6 -->
			<div ng-if="popupCtrl.fieldType.id == 6">
				<div class="row">
					<div class="col-sm-6">
						<input type="hidden" value="{{popupCtrl.fieldType.id}}" name="fieldType" />

						<div class="form-group" ng-class="{ 'has-error' : manageFieldForm.defaultValue.$invalid && !manageFieldForm.defaultValue.$pristine || popupCtrl.defaultValueError}">
							<label class="control-label" ng-class="{'required':popupCtrl.field.required}">Default value</label>
							<input class="form-control" ng-model="popupCtrl.field.defaultValue" name="defaultValue" type="text" ng-model-options="{allowInvalid:true}"
								   ng-required="popupCtrl.field.required" placeholder="e.g. email@domain.com" pattern="[a-z0-9!#$%&'*+/=?^_`{|}~-]+(?:\.[a-z0-9!#$%&'*+/=?^_`{|}~-]+)*@(?:[a-z0-9](?:[a-z0-9-]*[a-z0-9])?\.)+[a-z0-9](?:[a-z0-9-]*[a-z0-9])?" />
							<div class="error ng-hide" ng-show="manageFieldForm.defaultValue.$touched && manageFieldForm.defaultValue.$dirty && manageFieldForm.defaultValue.$invalid || popupCtrl.defaultValueError">
								<small class="error ng-hide" ng-show="manageFieldForm.defaultValue.$error.required && !popupCtrl.defaultValueError">
									required field
								</small>
								<small class="error ng-hide" ng-show="manageFieldForm.defaultValue.$error.pattern && !popupCtrl.defaultValueError">
									not a valid email
								</small>
								<small class="error ng-hide" ng-show="popupCtrl.defaultValueError">
									{{popupCtrl.defaultValueMessage}}
								</small>
							</div>
						</div>

					</div>
					<div class="col-sm-6">
						<div class="form-group" ng-class="{ 'has-error' : manageFieldForm.maxLength.$invalid && !manageFieldForm.maxLength.$pristine || popupCtrl.maxLengthError}">
							<label class="control-label" ng-class="{'required':popupCtrl.maxLength.required}">Maximum Length</label>
							<input class="form-control" ng-model="popupCtrl.field.maxLength" name="maxLength" type="text" ng-model-options="{allowInvalid:true}"
								   ng-required="popupCtrl.maxLength.required" pattern="^[0-9]*$" />
							<div class="error ng-hide" ng-show="manageFieldForm.maxLength.$touched && manageFieldForm.maxLength.$dirty && manageFieldForm.maxLength.$invalid || popupCtrl.maxLengthError">
								<small class="error ng-hide" ng-show="manageFieldForm.maxLength.$error.required && !popupCtrl.maxLengthError">
									required field
								</small>
								<small class="error ng-hide" ng-show="manageFieldForm.maxLength.$error.pattern && !popupCtrl.maxLengthError">
									should be a valid number
								</small>
								<small class="error ng-hide" ng-show="popupCtrl.maxLengthError">
									{{popupCtrl.maxLengthMessage}}
								</small>
							</div>
						</div>
					</div>
				</div>
			</div>
			<!--File 7 -->
			<div ng-if="popupCtrl.fieldType.id == 7">
				<div class="row">
					<div class="col-sm-6">
						<input type="hidden" value="{{popupCtrl.fieldType.id}}" name="fieldType" />
						<div class="form-group" ng-class="{ 'has-error' : manageFieldForm.defaultValue.$invalid && !manageFieldForm.defaultValue.$pristine || popupCtrl.defaultValueError}">
							<label class="control-label" ng-class="{'required':popupCtrl.field.required}">Default value</label>
							<input class="form-control" ng-model="popupCtrl.field.defaultValue" name="defaultValue" type="text" ng-model-options="{allowInvalid:true}"
								   ng-required="popupCtrl.field.required" placeholder="e.g. http://mydomain.com/file.pdf or /assets/file.pdf" />
							<div class="error ng-hide" ng-show="manageFieldForm.defaultValue.$touched && manageFieldForm.defaultValue.$dirty && manageFieldForm.defaultValue.$invalid || popupCtrl.defaultValueError">
								<small class="error ng-hide" ng-show="manageFieldForm.defaultValue.$error.required && !popupCtrl.defaultValueError">
									required field
								</small>
								<small class="error ng-hide" ng-show="popupCtrl.defaultValueError">
									{{popupCtrl.defaultValueMessage}}
								</small>
							</div>
						</div>
					</div>
					<div class="col-sm-6">

					</div>
				</div>
			</div>
			<!--HTML 8 -->
			<div ng-if="popupCtrl.fieldType.id == 8">
				<div class="row">
					<div class="col-sm-6">
						<input type="hidden" value="{{popupCtrl.fieldType.id}}" name="fieldType" />
						<div class="form-group" ng-class="{ 'has-error' : manageFieldForm.defaultValue.$invalid && !manageFieldForm.defaultValue.$pristine || popupCtrl.defaultValueError}">
							<label class="control-label" ng-class="{'required':popupCtrl.field.required}">Default value</label>
							<input class="form-control" ng-model="popupCtrl.field.defaultValue" name="defaultValue" type="text" ng-model-options="{allowInvalid:true}"
								   ng-required="popupCtrl.field.required" placeholder="e.g. some html" />
							<div class="error ng-hide" ng-show="manageFieldForm.defaultValue.$touched && manageFieldForm.defaultValue.$dirty && manageFieldForm.defaultValue.$invalid || popupCtrl.defaultValueError">
								<small class="error ng-hide" ng-show="manageFieldForm.defaultValue.$error.required && !popupCtrl.defaultValueError">
									required field
								</small>
								<small class="error ng-hide" ng-show="popupCtrl.defaultValueError">
									{{popupCtrl.defaultValueMessage}}
								</small>
							</div>
						</div>
					</div>
					<div class="col-sm-6">

					</div>
				</div>
			</div>
			<!--Image 9 -->
			<div ng-if="popupCtrl.fieldType.id == 9">
				<div class="row">
					<div class="col-sm-6">
						<input type="hidden" value="{{popupCtrl.fieldType.id}}" name="fieldType" />
						<div class="form-group" ng-class="{ 'has-error' : manageFieldForm.defaultValue.$invalid && !manageFieldForm.defaultValue.$pristine || popupCtrl.defaultValueError}">
							<label class="control-label" ng-class="{'required':popupCtrl.field.required}">Default value</label>
							<input class="form-control" ng-model="popupCtrl.field.defaultValue" name="defaultValue" type="text" ng-model-options="{allowInvalid:true}"
								   ng-required="popupCtrl.field.required" placeholder="e.g. email@domain.com" />
							<div class="error ng-hide" ng-show="manageFieldForm.defaultValue.$touched && manageFieldForm.defaultValue.$dirty && manageFieldForm.defaultValue.$invalid || popupCtrl.defaultValueError">
								<small class="error ng-hide" ng-show="manageFieldForm.defaultValue.$error.required && !popupCtrl.defaultValueError">
									required field
								</small>
								<small class="error ng-hide" ng-show="popupCtrl.defaultValueError">
									{{popupCtrl.defaultValueMessage}}
								</small>
							</div>
						</div>
					</div>
					<div class="col-sm-6">

					</div>
				</div>
			</div>
			<!--Textarea 10 -->
			<div ng-if="popupCtrl.fieldType.id == 10">
				<div class="row">
					<div class="col-sm-6">
						<input type="hidden" value="{{popupCtrl.fieldType.id}}" name="fieldType" />
						<div class="form-group" ng-class="{ 'has-error' : manageFieldForm.defaultValue.$invalid && !manageFieldForm.defaultValue.$pristine || popupCtrl.defaultValueError}">
							<label class="control-label" ng-class="{'required':popupCtrl.field.required}">Default value</label>
							<input class="form-control" ng-model="popupCtrl.field.defaultValue" name="defaultValue" type="text" ng-model-options="{allowInvalid:true}"
								   ng-required="popupCtrl.field.required" placeholder="e.g. some text" />
							<div class="error ng-hide" ng-show="manageFieldForm.defaultValue.$touched && manageFieldForm.defaultValue.$dirty && manageFieldForm.defaultValue.$invalid || popupCtrl.defaultValueError">
								<small class="error ng-hide" ng-show="manageFieldForm.defaultValue.$error.required && !popupCtrl.defaultValueError">
									required field
								</small>
								<small class="error ng-hide" ng-show="popupCtrl.defaultValueError">
									{{popupCtrl.defaultValueMessage}}
								</small>
							</div>
						</div>

					</div>
					<div class="col-sm-6">
						<div class="form-group" ng-class="{ 'has-error' : manageFieldForm.maxLength.$invalid && !manageFieldForm.maxLength.$pristine || popupCtrl.maxLengthError}">
							<label class="control-label" ng-class="{'required':popupCtrl.maxLength.required}">Maximum Length</label>
							<input class="form-control" ng-model="popupCtrl.field.maxLength" name="maxLength" type="text" ng-model-options="{allowInvalid:true}"
								   ng-required="popupCtrl.maxLength.required" pattern="^[0-9]*$" />
							<div class="error ng-hide" ng-show="manageFieldForm.maxLength.$touched && manageFieldForm.maxLength.$dirty && manageFieldForm.maxLength.$invalid || popupCtrl.maxLengthError">
								<small class="error ng-hide" ng-show="manageFieldForm.maxLength.$error.required && !popupCtrl.maxLengthError">
									required field
								</small>
								<small class="error ng-hide" ng-show="manageFieldForm.maxLength.$error.pattern && !popupCtrl.maxLengthError">
									should be a valid number
								</small>
								<small class="error ng-hide" ng-show="popupCtrl.maxLengthError">
									{{popupCtrl.maxLengthMessage}}
								</small>
							</div>
						</div>
					</div>
				</div>
				<!--<div class="row">
					<div class="col-sm-6">
						<div class="form-group">
							<label class="control-label">Line Numbers</label>
							<div class="checkbox">
								<label>
									<input ng-model="popupCtrl.field.visibleLineNumber" name="visibleLineNumber" type="checkbox" />
									make the textarea line numbers visible
								</label>
							</div>
						</div>
					</div>
					<div class="col-sm-6">

					</div>
				</div>-->
			</div>
			<!--Multiple select 11 -->
			<div ng-if="popupCtrl.fieldType.id == 11">
				<!--<div class="row">
					<div class="col-sm-6">
						<input type="hidden" value="{{popupCtrl.fieldType.id}}" name="fieldType" />
						<div class="form-group" ng-class="{ 'has-error' : manageFieldForm.defaultValue.$invalid && !manageFieldForm.defaultValue.$pristine || popupCtrl.defaultValueError}">
							<label class="control-label" ng-class="{'required':popupCtrl.field.required}">Default values</label>
							<input class="form-control" ng-model="popupCtrl.field.defaultValue" name="defaultValue" type="text" ng-model-options="{allowInvalid:true}"
								   ng-required="popupCtrl.field.required" placeholder="e.g. 1,2,3" />
							<div class="error ng-hide" ng-show="manageFieldForm.defaultValue.$touched && manageFieldForm.defaultValue.$dirty && manageFieldForm.defaultValue.$invalid || popupCtrl.defaultValueError">
								<small class="error ng-hide" ng-show="manageFieldForm.defaultValue.$error.required && !popupCtrl.defaultValueError">
									required field
								</small>
								<small class="error ng-hide" ng-show="popupCtrl.defaultValueError">
									{{popupCtrl.defaultValueMessage}}
								</small>
							</div>
						</div>

					</div>
				</div>-->
				<div class="row">
					<div class="col-sm-12">
						<div class="form-group">
							<label class="control-label">Options</label>
						</div>
					</div>
				</div>
				<div class="row">
					<div class="col-sm-12" style="padding-bottom:1em;">
						<a href="javascript:void(0)" class="btn btn-success" ng-click="popupCtrl.addDropdownValue()">add option</a>
					</div>
				</div>
				<div class="row">
					<div class="col-sm-12">
						<table class="table table-bordered" ng-hide="popupCtrl.field.options.length == 0">
							<thead>
								<tr>
							<thead>
								<tr>
									<th>value</th>
									<th>label</th>
									<th style="width:60px;">default</th>
									<th style="width:60px;">remove</th>
								</tr>
							</thead>
							<tbody>
								<tr ng-repeat="option in popupCtrl.field.options track by $index">
									<td><input class="form-control" ng-model="option.key" /></td>
									<td><input class="form-control" ng-model="option.value" /></td>
									<td><a ng-click="popupCtrl.toggleKeyAsDefault(option.key)" href="javascript:void(0)" class="btn btn-sm" ng-class="popupCtrl.isKeyDefault(option.key) ? 'btn-success' : 'btn-default go-gray'"><i class="fa fa-fw fa-check"></i></a></td>
									<td><a ng-click="popupCtrl.deleteDropdownValue($index)" href="javascript:void(0)" class="btn btn-sm btn-default go-red"><i class="fa fa-fw fa-close"></i></a></td>
								</tr>
							</tbody>
						</table>
						<br />
					</div>
				</div>
			</div>
			<!--Number 12 -->
			<div ng-if="popupCtrl.fieldType.id == 12">
				<div class="row">
					<input type="hidden" value="{{popupCtrl.fieldType.id}}" name="fieldType" />
					<div class="col-sm-6">
						<div class="form-group" ng-class="{ 'has-error' : manageFieldForm.defaultValue.$invalid && !manageFieldForm.defaultValue.$pristine || popupCtrl.defaultValueError}">
							<label class="control-label" ng-class="{'required':popupCtrl.field.required}">Default value</label>
							<input class="form-control" ng-model="popupCtrl.field.defaultValue" name="defaultValue" type="text" ng-model-options="{allowInvalid:true}"
								   ng-required="popupCtrl.field.required" pattern="^[0-9]*$" />
							<div class="error ng-hide" ng-show="manageFieldForm.defaultValue.$touched && manageFieldForm.defaultValue.$dirty && manageFieldForm.defaultValue.$invalid || popupCtrl.defaultValueError">
								<small class="error ng-hide" ng-show="manageFieldForm.defaultValue.$error.required && !popupCtrl.defaultValueError">
									required field
								</small>
								<small class="error ng-hide" ng-show="manageFieldForm.defaultValue.$error.pattern && !popupCtrl.defaultValueError">
									should be a valid number
								</small>
								<small class="error ng-hide" ng-show="popupCtrl.defaultValueError">
									{{popupCtrl.defaultValueMessage}}
								</small>
							</div>
						</div>
					</div>
					<div class="col-sm-6">
						<div class="form-group" ng-class="{ 'has-error' : manageFieldForm.decimalPlaces.$invalid && !manageFieldForm.decimalPlaces.$pristine || popupCtrl.decimalPlacesError}">
							<label class="control-label">Decimal Places</label>
							<input class="form-control" ng-model="popupCtrl.field.decimalPlaces" name="decimalPlaces" type="text"
								   pattern="^[0-9]*$" ng-model-options="{allowInvalid:true}" />
							<div class="error ng-hide" ng-show="manageFieldForm.decimalPlaces.$touched && manageFieldForm.decimalPlaces.$dirty && manageFieldForm.decimalPlaces.$invalid || popupCtrl.decimalPlacesError">
								<small class="error ng-hide" ng-show="manageFieldForm.decimalPlaces.$error.pattern && !popupCtrl.decimalPlacesError">
									should be a valid decimal
								</small>
								<small class="error ng-hide" ng-show="popupCtrl.decimalPlacesError">
									{{popupCtrl.decimalPlacesMessage}}
								</small>
							</div>
						</div>
					</div>
				</div>
				<div class="row">
					<div class="col-sm-6">
						<div class="form-group" ng-class="{ 'has-error' : manageFieldForm.minValue.$invalid && !manageFieldForm.minValue.$pristine || popupCtrl.minValueError}">
							<label class="control-label">Minimum value</label>
							<input class="form-control" ng-model="popupCtrl.field.minValue" name="minValue" type="number"
								   pattern="^\d+(\.\d{1,5})?$" ng-model-options="{allowInvalid:true}" />
							<div class="error ng-hide" ng-show="manageFieldForm.minValue.$touched && manageFieldForm.minValue.$dirty && manageFieldForm.minValue.$invalid || popupCtrl.minValueError">
								<small class="error ng-hide" ng-show="manageFieldForm.minValue.$error.pattern && !popupCtrl.minValueError">
									should be a valid decimal
								</small>
								<small class="error ng-hide" ng-show="popupCtrl.minValueError">
									{{popupCtrl.minValueMessage}}
								</small>
							</div>
						</div>
					</div>
					<div class="col-sm-6">
						<div class="form-group" ng-class="{ 'has-error' : manageFieldForm.maxValue.$invalid && !manageFieldForm.maxValue.$pristine || popupCtrl.maxValueError}">
							<label class="control-label">Maximum value</label>
							<input class="form-control" ng-model="popupCtrl.field.maxValue" name="minValue" type="number"
								   pattern="^\d+(\.\d{1,5})?$" ng-model-options="{allowInvalid:true}" />
							<div class="error ng-hide" ng-show="manageFieldForm.maxValue.$touched && manageFieldForm.maxValue.$dirty && manageFieldForm.maxValue.$invalid || popupCtrl.maxValueError">
								<small class="error ng-hide" ng-show="manageFieldForm.maxValue.$error.pattern && !popupCtrl.maxValueError">
									should be a valid decimal
								</small>
								<small class="error ng-hide" ng-show="popupCtrl.maxValueError">
									{{popupCtrl.maxValueMessage}}
								</small>
							</div>
						</div>
					</div>
				</div>
			</div>
			<!--Password 13 -->
			<div ng-if="popupCtrl.fieldType.id == 13">
				<div class="row">
					<div class="col-sm-6">
						<input type="hidden" value="{{popupCtrl.fieldType.id}}" name="fieldType" />
						<div class="form-group" ng-class="{ 'has-error' : manageFieldForm.maxLength.$invalid && !manageFieldForm.maxLength.$pristine || popupCtrl.maxLengthError}">
							<label class="control-label" ng-class="{'required':popupCtrl.maxLength.required}">Maximum Length</label>
							<input class="form-control" ng-model="popupCtrl.field.maxLength" name="maxLength" type="text"
								   ng-required="popupCtrl.maxLength.required" pattern="^[0-9]*$" ng-model-options="{allowInvalid:true}" />
							<div class="error ng-hide" ng-show="manageFieldForm.maxLength.$touched && manageFieldForm.maxLength.$dirty && manageFieldForm.maxLength.$invalid || popupCtrl.maxLengthError">
								<small class="error ng-hide" ng-show="manageFieldForm.maxLength.$error.required && !popupCtrl.maxLengthError">
									required field
								</small>
								<small class="error ng-hide" ng-show="manageFieldForm.maxLength.$error.pattern && !popupCtrl.maxLengthError">
									should be a valid number
								</small>
								<small class="error ng-hide" ng-show="popupCtrl.maxLengthError">
									{{popupCtrl.maxLengthMessage}}
								</small>
							</div>
						</div>
					</div>
					<div class="col-sm-6">
						<div class="form-group">
							<label class="control-label">Encryption</label>
							<div class="checkbox">
								<label>
									<input ng-model="popupCtrl.field.encrypted" name="encrypted" type="checkbox" />
									the data should be stored encrypted in the database
								</label>
							</div>
						</div>
					</div>
				</div>
				<div class="row">
					<div class="col-sm-6">
						<div class="form-group">
							<label class="control-label">Mask type</label>
							<select class="form-control" ng-model="popupCtrl.field.maskType" name="maskType">
								<option value="0" selected>None</option>
								<option value="1" selected>Mask all characters</option>
								<option value="2" selected>Show only the last 4 chars</option>
								<option value="3" selected>Credit Card Number</option>
								<option value="4" selected>National Insurance Number</option>
								<option value="5" selected>Social Security Number</option>
								<option value="6" selected>Social Insurance Number</option>
							</select>
						</div>
					</div>
					<div class="col-sm-6">

					</div>
				</div>
			</div>
			<!--Percent 14-->
			<div ng-if="popupCtrl.fieldType.id == 14">
				<div class="row">
					<input type="hidden" value="{{popupCtrl.fieldType.id}}" name="fieldType" />
					<div class="col-sm-6">
						<div class="form-group" ng-class="{ 'has-error' : manageFieldForm.defaultValue.$invalid && !manageFieldForm.defaultValue.$pristine || popupCtrl.defaultValueError}">
							<label class="control-label" ng-class="{'required':popupCtrl.field.required}">Default value</label>
							<input class="form-control" ng-model="popupCtrl.field.defaultValue" name="defaultValue" type="text"
								   ng-required="popupCtrl.field.required" pattern="^[0-9]*$" ng-model-options="{allowInvalid:true}" />
							<div class="error ng-hide" ng-show="manageFieldForm.defaultValue.$touched && manageFieldForm.defaultValue.$dirty && manageFieldForm.defaultValue.$invalid || popupCtrl.defaultValueError">
								<small class="error ng-hide" ng-show="manageFieldForm.defaultValue.$error.required && !popupCtrl.defaultValueError">
									required field
								</small>
								<small class="error ng-hide" ng-show="manageFieldForm.defaultValue.$error.pattern && !popupCtrl.defaultValueError">
									should be a valid number
								</small>
								<small class="error ng-hide" ng-show="popupCtrl.defaultValueError">
									{{popupCtrl.defaultValueMessage}}
								</small>
							</div>
						</div>
					</div>
					<div class="col-sm-6">
						<div class="form-group" ng-class="{ 'has-error' : manageFieldForm.decimalPlaces.$invalid && !manageFieldForm.decimalPlaces.$pristine || popupCtrl.decimalPlacesError}">
							<label class="control-label">Decimal Places</label>
							<input class="form-control" ng-model="popupCtrl.field.decimalPlaces" name="decimalPlaces" type="text"
								   pattern="^[0-9]*$" ng-model-options="{allowInvalid:true}" />
							<div class="error ng-hide" ng-show="manageFieldForm.decimalPlaces.$touched && manageFieldForm.decimalPlaces.$dirty && manageFieldForm.decimalPlaces.$invalid || popupCtrl.decimalPlacesError">
								<small class="error ng-hide" ng-show="manageFieldForm.decimalPlaces.$error.pattern && !popupCtrl.decimalPlacesError">
									should be a valid decimal
								</small>
								<small class="error ng-hide" ng-show="popupCtrl.decimalPlacesError">
									{{popupCtrl.decimalPlacesMessage}}
								</small>
							</div>
						</div>
					</div>
				</div>
				<div class="row">
					<div class="col-sm-6">
						<div class="form-group" ng-class="{ 'has-error' : manageFieldForm.minValue.$invalid && !manageFieldForm.minValue.$pristine || popupCtrl.minValueError}">
							<label class="control-label">Minimum value</label>
							<input class="form-control" ng-model="popupCtrl.field.minValue" name="minValue" type="number"
								   pattern="^\d+(\.\d{1,5})?$" ng-model-options="{allowInvalid:true}" />
							<div class="error ng-hide" ng-show="manageFieldForm.minValue.$touched && manageFieldForm.minValue.$dirty && manageFieldForm.minValue.$invalid || popupCtrl.minValueError">
								<small class="error ng-hide" ng-show="manageFieldForm.minValue.$error.pattern && !popupCtrl.minValueError">
									should be a valid decimal
								</small>
								<small class="error ng-hide" ng-show="popupCtrl.minValueError">
									{{popupCtrl.minValueMessage}}
								</small>
							</div>
						</div>
					</div>
					<div class="col-sm-6">
						<div class="form-group" ng-class="{ 'has-error' : manageFieldForm.maxValue.$invalid && !manageFieldForm.maxValue.$pristine || popupCtrl.maxValueError}">
							<label class="control-label">Maximum value</label>
							<input class="form-control" ng-model="popupCtrl.field.maxValue" name="minValue" type="number"
								   pattern="^\d+(\.\d{1,5})?$" ng-model-options="{allowInvalid:true}" />
							<div class="error ng-hide" ng-show="manageFieldForm.maxValue.$touched && manageFieldForm.maxValue.$dirty && manageFieldForm.maxValue.$invalid || popupCtrl.maxValueError">
								<small class="error ng-hide" ng-show="manageFieldForm.maxValue.$error.pattern && !popupCtrl.maxValueError">
									should be a valid decimal
								</small>
								<small class="error ng-hide" ng-show="popupCtrl.maxValueError">
									{{popupCtrl.maxValueMessage}}
								</small>
							</div>
						</div>
					</div>
				</div>
			</div>
			<!--Phone 15-->
			<div ng-if="popupCtrl.fieldType.id == 15">
				<div class="row">
					<div class="col-sm-6">
						<input type="hidden" value="{{popupCtrl.fieldType.id}}" name="fieldType" />

						<div class="form-group" ng-class="{ 'has-error' : manageFieldForm.defaultValue.$invalid && !manageFieldForm.defaultValue.$pristine || popupCtrl.defaultValueError}">
							<label class="control-label" ng-class="{'required':popupCtrl.field.required}">Default value</label>
							<input class="form-control" ng-model="popupCtrl.field.defaultValue" name="defaultValue" type="text"
								   ng-required="popupCtrl.field.required" ng-model-options="{allowInvalid:true}" />
							<div class="error ng-hide" ng-show="manageFieldForm.defaultValue.$touched && manageFieldForm.defaultValue.$dirty && manageFieldForm.defaultValue.$invalid || popupCtrl.defaultValueError">
								<small class="error ng-hide" ng-show="manageFieldForm.defaultValue.$error.required && !popupCtrl.defaultValueError">
									required field
								</small>
								<small class="error ng-hide" ng-show="manageFieldForm.defaultValue.$error.validDate && !popupCtrl.defaultValueError">
									this string is not a valid date format
								</small>
								<small class="error ng-hide" ng-show="popupCtrl.defaultValueError">
									{{popupCtrl.defaultValueMessage}}
								</small>
							</div>
						</div>

					</div>
					<div class="col-sm-6">
						<div class="form-group" ng-class="{ 'has-error' : manageFieldForm.format.$invalid && !manageFieldForm.format.$pristine || popupCtrl.formatError}">
							<label class="control-label" ng-class="{'required':popupCtrl.field.required}">Presentation Format</label>
							<input class="form-control" ng-model="popupCtrl.field.format" name="format" type="text"
								   ng-required="popupCtrl.field.required" placeholder="e.g. yyyy-MM-dd" ng-model-options="{allowInvalid:true}" />
							<div class="error ng-hide" ng-show="manageFieldForm.format.$touched && manageFieldForm.format.$dirty && manageFieldForm.format.$invalid || popupCtrl.formatError">
								<small class="error ng-hide" ng-show="manageFieldForm.format.$error.required && !popupCtrl.formatError">
									required field
								</small>
								<small class="error ng-hide" ng-show="popupCtrl.formatError">
									{{popupCtrl.formatMessage}}
								</small>
							</div>
						</div>
					</div>
				</div>
				<div class="row">
					<div class="col-sm-6">
						<div class="form-group" ng-class="{ 'has-error' : manageFieldForm.maxLength.$invalid && !manageFieldForm.maxLength.$pristine || popupCtrl.maxLengthError}">
							<label class="control-label" ng-class="{'required':popupCtrl.maxLength.required}">Maximum Length</label>
							<input class="form-control" ng-model="popupCtrl.field.maxLength" name="maxLength" type="text"
								   ng-required="popupCtrl.maxLength.required" pattern="^[0-9]*$" ng-model-options="{allowInvalid:true}" />
							<div class="error ng-hide" ng-show="manageFieldForm.maxLength.$touched && manageFieldForm.maxLength.$dirty && manageFieldForm.maxLength.$invalid || popupCtrl.maxLengthError">
								<small class="error ng-hide" ng-show="manageFieldForm.maxLength.$error.required && !popupCtrl.maxLengthError">
									required field
								</small>
								<small class="error ng-hide" ng-show="manageFieldForm.maxLength.$error.pattern && !popupCtrl.maxLengthError">
									should be a valid number
								</small>
								<small class="error ng-hide" ng-show="popupCtrl.maxLengthError">
									{{popupCtrl.maxLengthMessage}}
								</small>
							</div>
						</div>
					</div>
					<div class="col-sm-6">

					</div>
				</div>
			</div>
			<!--Identifier GUID 16 -->
			<div ng-if="popupCtrl.fieldType.id == 16">
				<div class="row">
					<div class="col-sm-6">
						<input type="hidden" value="{{popupCtrl.wizard.selectedType.id}}" name="fieldType" />
						<div class="form-group" ng-class="{ 'has-error' : (createFieldStep2.defaultValue.$invalid && !createFieldStep2.defaultValue.$pristine || popupCtrl.defaultValueError)  && popupCtrl.defaultValueTextboxEnabled}">
							<label class="control-label" ng-class="{'required':popupCtrl.field.required}">Default value</label>
							<input class="form-control" ng-model="popupCtrl.field.defaultValue" name="defaultValue" type="text"
								   ng-required="popupCtrl.field.required" placeholder="{{popupCtrl.defaultValueTextboxPlaceholder}}" ng-model-options="{allowInvalid:true}"
								   ng-disabled="!popupCtrl.defaultValueTextboxEnabled || popupCtrl.field.name == 'id'" pattern="^(\{){0,1}[0-9a-fA-F]{8}\-[0-9a-fA-F]{4}\-[0-9a-fA-F]{4}\-[0-9a-fA-F]{4}\-[0-9a-fA-F]{12}(\}){0,1}$" />
							<div class="error ng-hide" ng-show="(createFieldStep2.defaultValue.$touched && createFieldStep2.defaultValue.$dirty && createFieldStep2.defaultValue.$invalid || popupCtrl.defaultValueError) && popupCtrl.defaultValueTextboxEnabled">
								<small class="error ng-hide" ng-show="createFieldStep2.defaultValue.$error.required && !popupCtrl.defaultValueError">
									required field
								</small>
								<small class="error ng-hide" ng-show="createFieldStep2.defaultValue.$error.pattern && !popupCtrl.defaultValueError">
									should be a valid GUID
								</small>
								<small class="error ng-hide" ng-show="popupCtrl.defaultValueError">
									{{popupCtrl.defaultValueMessage}}
								</small>
							</div>

						</div>
					</div>
					<div class="col-sm-6">
						<div class="form-group">
							<label class="control-label">GUID Generation</label>
							<div class="checkbox">
								<label>
									<input ng-model="popupCtrl.field.generateNewId" name="generateNewId" type="checkbox"
										   ng-change='popupCtrl.uniqueGuidGenerateToggle(popupCtrl.field.generateNewId)'
										   ng-disabled="!popupCtrl.uniqueGuidGenerateCheckboxEnabled" />
									automatically generate new GUID as default
								</label>
							</div>
						</div>
					</div>
				</div>
			</div>
			<!--Dropdown 17 -->
			<div ng-if="popupCtrl.fieldType.id == 17">
				<div class="row">
					<div class="col-sm-6">
						<input type="hidden" value="{{popupCtrl.fieldType.id}}" name="fieldType" />
						<div class="form-group" ng-class="{ 'has-error' : manageFieldForm.defaultValue.$invalid && !manageFieldForm.defaultValue.$pristine || popupCtrl.defaultValueError}">
							<label class="control-label" ng-class="{'required':popupCtrl.field.required}">Default value</label>
							<input class="form-control" ng-model="popupCtrl.field.defaultValue" name="defaultValue" type="text" ng-model-options="{allowInvalid:true}"
								   ng-required="popupCtrl.field.required" placeholder="e.g. email@domain.com" />
							<div class="error ng-hide" ng-show="manageFieldForm.defaultValue.$touched && manageFieldForm.defaultValue.$dirty && manageFieldForm.defaultValue.$invalid || popupCtrl.defaultValueError">
								<small class="error ng-hide" ng-show="manageFieldForm.defaultValue.$error.required && !popupCtrl.defaultValueError">
									required field
								</small>
								<small class="error ng-hide" ng-show="popupCtrl.defaultValueError">
									{{popupCtrl.defaultValueMessage}}
								</small>
							</div>
						</div>
					</div>
				</div>
				<div class="row">
					<div class="col-sm-12">
						<div class="form-group">
							<label class="control-label">Options</label>
						</div>
					</div>
				</div>
				<div class="row">
					<div class="col-sm-12" style="padding-bottom:1em;">
						<a href="javascript:void(0)" class="btn btn-success" ng-click="popupCtrl.addDropdownValue()">add option</a>
					</div>
				</div>
				<div class="row">
					<div class="col-sm-12">
						<table class="table table-bordered" ng-hide="popupCtrl.field.options.length == 0">
							<thead>
								<tr>
									<th>value</th>
									<th>label</th>
									<th style="width:60px;"></th>
								</tr>
							</thead>
							<tbody>
								<tr ng-repeat="option in popupCtrl.field.options">
									<td><input class="form-control" ng-model="option.key" /></td>
									<td><input class="form-control" ng-model="option.value" /></td>
									<td><a ng-click="popupCtrl.deleteDropdownValue($index)" href="javascript:void(0)" class="btn btn-sm btn-default go-red"><i class="fa fa-fw fa-close"></i></a></td>
								</tr>
							</tbody>
						</table>
						<br />
					</div>
				</div>
			</div>
			<!--Text 18 -->
			<div ng-if="popupCtrl.fieldType.id == 18">
				<div class="row">
					<div class="col-sm-6">
						<input type="hidden" value="{{popupCtrl.fieldType.id}}" name="fieldType" />
						<div class="form-group" ng-class="{ 'has-error' : manageFieldForm.defaultValue.$invalid && !manageFieldForm.defaultValue.$pristine || popupCtrl.defaultValueError}">
							<label class="control-label" ng-class="{'required':popupCtrl.field.required}">Default value</label>
							<input class="form-control" ng-model="popupCtrl.field.defaultValue" name="defaultValue" type="text" ng-model-options="{allowInvalid:true}"
								   ng-required="popupCtrl.field.required" />
							<div class="error ng-hide" ng-show="manageFieldForm.defaultValue.$touched && manageFieldForm.defaultValue.$dirty && manageFieldForm.defaultValue.$invalid || popupCtrl.defaultValueError">
								<small class="error ng-hide" ng-show="manageFieldForm.defaultValue.$error.required && !popupCtrl.defaultValueError">
									required field
								</small>
								<small class="error ng-hide" ng-show="popupCtrl.defaultValueError">
									{{popupCtrl.defaultValueMessage}}
								</small>
							</div>
						</div>

					</div>
					<div class="col-sm-6">
						<div class="form-group" ng-class="{ 'has-error' : manageFieldForm.maxLength.$invalid && !manageFieldForm.maxLength.$pristine || popupCtrl.maxLengthError}">
							<label class="control-label" ng-class="{'required':popupCtrl.maxLength.required}">Maximum Length</label>
							<input class="form-control" ng-model="popupCtrl.field.maxLength" name="maxLength" type="text" ng-model-options="{allowInvalid:true}"
								   ng-required="popupCtrl.maxLength.required" pattern="^[0-9]*$" />
							<div class="error ng-hide" ng-show="manageFieldForm.maxLength.$touched && manageFieldForm.maxLength.$dirty && manageFieldForm.maxLength.$invalid || popupCtrl.maxLengthError">
								<small class="error ng-hide" ng-show="manageFieldForm.maxLength.$error.required && !popupCtrl.maxLengthError">
									required field
								</small>
								<small class="error ng-hide" ng-show="manageFieldForm.maxLength.$error.pattern && !popupCtrl.maxLengthError">
									should be a valid number
								</small>
								<small class="error ng-hide" ng-show="popupCtrl.maxLengthError">
									{{popupCtrl.maxLengthMessage}}
								</small>
							</div>
						</div>
					</div>
				</div>
			</div>
			<!--URL 19 -->
			<div ng-if="popupCtrl.fieldType.id == 19">
				<input type="hidden" value="{{popupCtrl.fieldType.id}}" name="fieldType" />
				<div class="row">
					<div class="col-sm-6">
						<div class="form-group" ng-class="{ 'has-error' : manageFieldForm.defaultValue.$invalid && !manageFieldForm.defaultValue.$pristine || popupCtrl.defaultValueError}">
							<label class="control-label" ng-class="{'required':popupCtrl.field.required}">Default value</label>
							<input class="form-control" ng-model="popupCtrl.field.defaultValue" name="defaultValue" type="text" ng-model-options="{allowInvalid:true}"
								   ng-required="popupCtrl.field.required" />
							<div class="error ng-hide" ng-show="manageFieldForm.defaultValue.$touched && manageFieldForm.defaultValue.$dirty && manageFieldForm.defaultValue.$invalid || popupCtrl.defaultValueError">
								<small class="error ng-hide" ng-show="manageFieldForm.defaultValue.$error.required && !popupCtrl.defaultValueError">
									required field
								</small>
								<small class="error ng-hide" ng-show="popupCtrl.defaultValueError">
									{{popupCtrl.defaultValueMessage}}
								</small>
							</div>
						</div>

					</div>
					<div class="col-sm-6">
						<div class="form-group" ng-class="{ 'has-error' : manageFieldForm.maxLength.$invalid && !manageFieldForm.maxLength.$pristine || popupCtrl.maxLengthError}">
							<label class="control-label" ng-class="{'required':popupCtrl.maxLength.required}">Maximum Length</label>
							<input class="form-control" ng-model="popupCtrl.field.maxLength" name="maxLength" type="text" ng-model-options="{allowInvalid:true}"
								   ng-required="popupCtrl.maxLength.required" pattern="^[0-9]*$" />
							<div class="error ng-hide" ng-show="manageFieldForm.maxLength.$touched && manageFieldForm.maxLength.$dirty && manageFieldForm.maxLength.$invalid || popupCtrl.maxLengthError">
								<small class="error ng-hide" ng-show="manageFieldForm.maxLength.$error.required && !popupCtrl.maxLengthError">
									required field
								</small>
								<small class="error ng-hide" ng-show="manageFieldForm.maxLength.$error.pattern && !popupCtrl.maxLengthError">
									should be a valid number
								</small>
								<small class="error ng-hide" ng-show="popupCtrl.maxLengthError">
									{{popupCtrl.maxLengthMessage}}
								</small>
							</div>
						</div>
					</div>
				</div>
				<div class="row">
					<div class="col-sm-6">
						<div class="form-group">
							<label class="control-label">Link target</label>
							<div class="checkbox">
								<label>
									<input ng-model="popupCtrl.field.openTargetInNewWindow" name="openTargetInNewWindow" type="checkbox" />
									open the link in a new window/tab
								</label>
							</div>
						</div>
					</div>
					<div class="col-sm-6">

					</div>
				</div>
			</div>

			<!--Reserved id 20 -->

			<!--Tree select 21 -->
			<div ng-if="popupCtrl.fieldType.id == 21">
				<input type="hidden" value="{{popupCtrl.fieldType.id}}" name="fieldType" />
				<div class="row">
					<div class="col-sm-6">
						<div class="form-group">
							<label class="control-label" for="name">Related Entity with the tree </label>
							<p class="form-control-static" ng-bind-html="popupCtrl.getTreeSelectRelatedEntityName()"></p>
						</div>
					</div>
				</div>
				<div class="row">
					<div class="col-sm-6">
						<div class="form-group">
							<label class="control-label" for="name">Record tree </label>
							<p class="form-control-static" ng-bind-html="popupCtrl.getTreeSelectRecordTreeName()"></p>
						</div>
					</div>
					<div class="col-sm-6">
						<div class="form-group">
							<label class="control-label" for="name">Relation between the current and target entity</label>
							<p class="form-control-static" ng-bind-html="popupCtrl.getTreeSelectRelationHtml()"></p>
						</div>
					</div>
				</div>
				<div class="row">
					<div class="col-sm-6">
						<div class="form-group">
							<label class="control-label required">Selection type</label>
							<select class="form-control" ng-model="popupCtrl.field.selectionType" name="selectionType"
									ng-options="s.key as s.value for s in popupCtrl.selectionTypes"></select>
						</div>
					</div>
					<div class="col-sm-6">
						<div class="form-group">
							<label class="control-label required">Selection target</label>
							<select class="form-control" ng-model="popupCtrl.field.selectionTarget" name="selectionTarget" type="text"
									ng-options="s.key as s.value for s in popupCtrl.selectionTargets"></select>
						</div>
					</div>
				</div>		
			</div>

			<div class="row">
				<div class="col-sm-12">
					<div class="form-group">
						<label class="control-label">Field Security</label>
						<div class="checkbox">
							<label>
								<input type="checkbox" ng-model="popupCtrl.field.enableSecurity" value="true"> enable field security
							</label>
						</div>
					</div>
				</div>
			</div>

			<div class="row ng-hide" ng-show="popupCtrl.field.enableSecurity">
				<div class="col-sm-12">
					<div class="form-group">
						<label class="control-label">Record permissions</label>
						<table class="table table-bordered table-permissions">
							<thead>
								<tr>
									<th style="width:20%">role name</th>
									<th style="width:20%">read</th>
									<th style="width:20%">update</th>
								</tr>
							</thead>
							<tbody>
								<tr ng-repeat="role in popupCtrl.fieldPermissions">
									<td>{{role.label}}</td>
									<td>
										<div class="checkbox">
											<label>
												<input type="checkbox" ng-model="role.canRead" ng-change="popupCtrl.togglePermissionRole('canRead',role.id)"> true
											</label>
										</div>
									</td>
									<td class="position-relative">
										<div class="checkbox">
											<label>
												<input type="checkbox" ng-model="role.canUpdate" ng-change="popupCtrl.togglePermissionRole('canUpdate',role.id)"> true
											</label>
										</div>
									</td>
								</tr>
							</tbody>
						</table>
					</div>
				</div>
			</div>
		</form>
	</div>
	<div class="modal-footer">
		<p ng-show="popupCtrl.wizard.steps[1].active" class="ng-hide">
			<i class="fa fa-fw fa-info-circle"></i>To proceed, press the Select button of a filed type</>
			<div>
				<button ng-show="!popupCtrl.field.system" class="btn btn-link pull-left go-red ng-hide" ng-click="popupCtrl.deleteFieldModal()">[ Delete field ]</button>
				<button class="btn btn-primary ng-hide" ng-click="popupCtrl.ok()" ng-show="!popupCtrl.hasError"><i class="fa fa-fw fa-save"></i> Save Field</button>
				<button class="btn btn-default" ng-click="popupCtrl.cancel()">Cancel</button>
			</div>
	</div>
</script>

<script type="text/ng-template" id="deleteFieldModal.html">
	<div class="modal-header" id="modal-top">
		<button type="button" class="close" ng-click="popupCtrl.cancel('cancel')" aria-label="Close"><span aria-hidden="true">&times;</span></button>
		<h3 class="modal-title">Delete a field</h3>
	</div>
	<div class="modal-body">
		<div class="alert alert-danger" ng-bind="popupCtrl.errorMessage" ng-show="popupCtrl.hasError"></div>
		<div ng-hide="popupCtrl.hasError">
			<h4>Are you sure that you need this field deleted?</h4>
			<div class="alert alert-warning">By deleting the <b>{{popupCtrl.parentData.field.label}}</b> field you will also <b>delete all its values</b>?</div>
		</div>
	</div>
	<div class="modal-footer">
		<button class="btn btn-danger" ng-click="popupCtrl.ok()" ng-hide="popupCtrl.hasError">Delete Field</button>
		<button class="btn btn-default" ng-click="popupCtrl.cancel()">Cancel</button>
	</div>
</script>