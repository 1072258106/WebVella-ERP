<div id="page-title">
    <div id="page-meta">
        <div class="aux-actions">

        </div>
        <!--<div class="icon-box">
            <i class="fa fa-database"></i>
        </div>-->
        <div class="entity-box">
            <h4 class="no-link" title="Entities">Entities</h4>
            <!--<a ui-sref="webvella-admin-entities"><i class="fa fa-arrow-left"></i> Back to list</a>-->
        </div>
        <div class="spacer-box"></div>
        <div class="divider-box">
            <i class="fa fa-caret-right"></i>
        </div>
        <div class="icon-box">
            <i class="fa fa-{{contentData.entity.iconName}}"></i>
        </div>
        <div class="entity-box">
            <h4 title="{{contentData.entity.label}}">{{contentData.entity.label}}</h4>
            <span class="go-gray" title="System entities cannot be deleted" ng-show="contentData.entity.system"><i class="fa fa-lock"></i> Delete locked</span>
            <a class="go-red" href="javascript:void(0)" ng-click="contentData.openDeleteEntityModal()" ng-show="!contentData.entity.system"><i class="fa fa-trash"></i> Delete entity</a>
        </div>
        <div class="spacer-box"></div>
        <div class="divider-box">
            <i class="fa fa-caret-right"></i>
        </div>
        <div class="lists-box">
            <h4 title="Records lists">Records lists</h4>
            <a ui-sref="webvella-admin-entity-lists({entityName:'{{contentData.entity.name}}'})"><i class="fa fa-arrow-left"></i> Back to list</a>
        </div>
        <div class="spacer-box"></div>
        <div class="divider-box">
            <i class="fa fa-caret-right"></i>
        </div>
        <div class="lists-box">
            <h4 class="no-link" title="Manage a Record list">Manage</h4>
        </div>
    </div>
    <!--<div id="page-messages">
        <div class="alert alert-warning" role="alert">This is a plugin message dynamically embedded in the page</div>
    </div>-->
</div>
<div id="text" style="padding-bottom:3em; ">
    <div class="tabbable tabs-left spilled">
        <a class="back" ui-sref="webvella-admin-entities"><i class="fa fa-fw fa-arrow-left"></i> <span class="text">Back</span></a>
        <ul class="nav nav-tabs">
            <li><a ui-sref="webvella-admin-entity-details({entityName:'{{contentData.entity.name}}'})"><i class="fa fa-fw fa-info-circle"></i> <span class="text">Details</span></a></li>
            <li><a ui-sref="webvella-admin-entity-fields({entityName:'{{contentData.entity.name}}'})"><i class="fa fa-fw fa-table"></i> <span class="text">Fields</span></a></li>
            <li><a ui-sref="webvella-admin-entity-views({entityName:'{{contentData.entity.name}}'})"><i class="fa fa-fw fa-file-text-o"></i> <span class="text">Record Views</span></a></li>
            <li class="active"><a ui-sref="webvella-admin-entity-lists({entityName:'{{contentData.entity.name}}'})"><i class="fa fa-fw fa-list"></i> <span class="text">Records Lists</span></a></li>
            <li><a ui-sref="webvella-admin-entity-relations({entityName:'{{contentData.entity.name}}'})"><i class="fa fa-fw fa-link"></i> <span class="text">Relations</span></a></li>
        </ul>

    </div>


    <div class="view-manage-section">
        <h3>Basic info</h3>
        <div class="panel panel-default" style="margin-top:2em;">
            <div class="panel-body">
                <div class="form-horizontal">
                    <div class="form-group">
                        <div class="row">
                            <label class="col-sm-2 control-label" for="name">Name</label>
                            <div class="col-sm-4">
                                <span class="not-editable">{{contentData.list.name}}</span>
                            </div>
                            <label class="col-sm-2 control-label" for="name">Type</label>
                            <div class="col-sm-4">
                                <span class="not-editable">{{contentData.list.type}}</span>
                            </div>
                        </div>
                    </div>
                    <div class="form-group">
                        <div class="row">

                            <label class="col-sm-2 control-label" for="label">Label</label>
                            <div class="col-sm-4 position-relative">
                                <a href="javascript:void(0)" editable-text="contentData.list.label" onbeforesave="contentData.fieldUpdate('label',$data)">{{ contentData.list.label || "empty" }}</a>
                            </div>
                            <label class="col-sm-2 control-label" for="weight">Weight</label>
                            <div class="col-sm-4 position-relative">
                                <a href="javascript:void(0)" editable-text="contentData.list.weight" onbeforesave="contentData.fieldUpdate('weight', $data)">{{ contentData.list.weight || "empty" }}</a>
                            </div>
                        </div>
                    </div>

                    <div class="form-group">
                        <div class="row">
                            <label class="col-sm-2 control-label" for="name">Default</label>
                            <div class="col-sm-4">
                                <a href="javascript:void(0)" editable-checkbox="contentData.list.default" e-title="Make this default list?">{{ contentData.list.default && "Default list" || "Not a default list" }}</a>
                            </div>
                            <label class="col-sm-2 control-label" for="name">System</label>
                            <div class="col-sm-4">
                                <span ng-show="contentData.entity.system" class="not-editable"><i class="go-green fa fa-check"></i> true</span>
                                <span ng-show="!contentData.entity.system" class="not-editable"><i class="go-red fa fa-close"></i> false</span>
                            </div>
                        </div>
                    </div>

                    <div class="form-group">
                        <div class="row">
                            <label class="col-sm-2 control-label" for="label">Records Limit</label>
                            <div class="col-sm-4 position-relative">
                                <a href="javascript:void(0)" editable-text="contentData.list.recordsLimit" onbeforesave="contentData.fieldUpdate('recordsLimit', $data)">{{ contentData.list.recordsLimit || "empty" }}</a>
                            </div>
                            <label class="col-sm-2 control-label" for="weight">Page size</label>
                            <div class="col-sm-4 position-relative">
                                <a href="javascript:void(0)" editable-text="contentData.list.pageSize" onbeforesave="contentData.fieldUpdate('pageSize', $data)">{{ contentData.list.pageSize || "empty" }}</a>
                            </div>
                        </div>
                    </div>
					<div class="form-group">
						<div class="row">
							<label class="col-sm-2 control-label" for="label">CSS Class</label>
							<div class="col-sm-4 position-relative">
								<a href="javascript:void(0)" editable-text="contentData.list.cssClass" onbeforesave="contentData.fieldUpdate('cssClass', $data)">{{ contentData.list.cssClass || "not set" }}</a>
							</div>
						</div>
					</div>
                </div>

            </div>
        </div>

        <h3>Fields</h3>
        <div class="row">
            <div class="col-xs-6">
                <h4>Library</h4>
                <!--<form class="form" style="margin-bottom:1em;">
                    <div class="form-group">
                        <div class="input-group">
                            <span class="input-group-addon"><i class="fa fa-fw fa-search"></i></span>
                            <input type="text" ng-model="contentData.search.name" class="form-control" placeholder="item name" style="width:100%;">
                        </div>
                    </div>
                </form>-->
            </div>
            <div class="col-xs-6">
                <h4>List columns</h4>
            </div>
        </div>
        <div class="row">
            <div class="col-xs-6">
                <div class="list-field-selection-box">
                    <div class="drop-zone">
                        <div as-sortable ng-model="contentData.fieldsLibrary.items">
                            <div class="dropped-item" data-as-sortable-item ng-repeat="item in contentData.fieldsLibrary.items | filter: {search:contentData.search}">
								<div as-sortable-item-handle ng-if='item.type == "field"' class="clearfix">
									<a href="javascript:void(0)" class="pull-right" ng-click="contentData.moveToColumns(item, $index)"><i class="fa fa-fw fa-arrow-right"></i></a>
									<i class="fa fa-fw fa-table go-teal"></i> {{item.fieldLabel}}
								</div>
								<div as-sortable-item-handle ng-if='item.type == "fieldFromRelation"' class="clearfix">
									<a href="javascript:void(0)" class="pull-right" ng-click="contentData.moveToColumns(item, $index)"><i class="fa fa-fw fa-arrow-right"></i></a>
									<i class="fa fa-fw fa-table go-teal"></i> {{item.entityLabel}} > {{item.fieldLabel}}
								</div>
								<div as-sortable-item-handle ng-if='item.type == "view"' class="clearfix">
									<a href="javascript:void(0)" class="pull-right" ng-click="contentData.moveToColumns(item, $index)"><i class="fa fa-fw fa-arrow-right"></i></a>
									<i class="fa fa-fw fa-file-text-o go-teal"></i> {{item.entityLabel}} > {{item.viewLabel}}
								</div>
								<div as-sortable-item-handle ng-if='item.type == "html" && item.tag == ""' class="clearfix">
									<a href="javascript:void(0)" class="pull-right" ng-click="contentData.moveToColumns(item, $index)"><i class="fa fa-fw fa-arrow-right"></i></a>
									<i class="fa fa-fw fa-code go-teal"></i> No tag
								</div>
								<div as-sortable-item-handle ng-if='item.type == "html" && item.tag != ""' class="clearfix">
									<a href="javascript:void(0)" class="pull-right" ng-click="contentData.moveToColumns(item, $index)"><i class="fa fa-fw fa-arrow-right"></i></a>
									<i class="fa fa-fw fa-code go-teal"></i> {{item.tag}}
								</div>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
            <div class="col-xs-6">
                <div class="list-field-selection-box">
                    <div class="drop-zone">
                        <div as-sortable ng-model="contentData.list.items">
                            <div class="dropped-item" data-as-sortable-item ng-repeat="item in contentData.list.items">
								<div as-sortable-item-handle ng-if='item.type == "field"' class="clearfix">
									<i class="fa fa-fw fa-arrows go-gray pull-right"></i>
									<a href="javascript:void(0)" class="pull-left" ng-click="contentData.moveToLibrary(item, $index)"><i class="fa fa-fw fa-arrow-left"></i></a>
									<i class="fa fa-fw fa-table go-teal" style="margin-left:10px;"></i> {{item.fieldLabel}}
								</div>
								<div as-sortable-item-handle ng-if='item.type == "fieldFromRelation"' class="clearfix">
									<i class="fa fa-fw fa-arrows go-gray pull-right"></i>
									<a href="javascript:void(0)" class="pull-left" ng-click="contentData.moveToLibrary(item, $index)"><i class="fa fa-fw fa-arrow-left"></i></a>
									<i class="fa fa-fw fa-table go-teal" style="margin-left:10px;"></i> {{item.entityLabel}} > {{item.fieldLabel}}
								</div>
								<div as-sortable-item-handle ng-if='item.type == "view"' class="clearfix">
									<i class="fa fa-fw fa-arrows go-gray pull-right"></i>
									<a href="javascript:void(0)" class="pull-left" ng-click="contentData.moveToLibrary(item, $index)"><i class="fa fa-fw fa-arrow-left"></i></a>
									<i class="fa fa-fw fa-file-text-o go-teal" style="margin-left:10px;"></i> {{item.entityLabel}} > {{item.viewLabel}}
								</div>
								<div as-sortable-item-handle ng-if='item.type == "html" && item.tag == ""' class="clearfix">
									<i class="fa fa-fw fa-arrows go-gray pull-right"></i>
									<a href="javascript:void(0)" class="pull-left" ng-click="contentData.moveToLibrary(item, $index)"><i class="fa fa-fw fa-arrow-left"></i></a>
									<i class="fa fa-fw fa-code go-teal" style="margin-left:10px;"></i> No tag
								</div>
								<div as-sortable-item-handle ng-if='item.type == "html" && item.tag != ""' class="clearfix">
									<i class="fa fa-fw fa-arrows go-gray pull-right"></i>
									<a href="javascript:void(0)" class="pull-left" ng-click="contentData.moveToLibrary(item, $index)"><i class="fa fa-fw fa-arrow-left"></i></a>
									<i class="fa fa-fw fa-code go-teal" style="margin-left:10px;"></i> {{item.tag}}
								</div>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </div>


        <h3>Filters</h3>

        <div class="panel panel-default">
            <div class="panel-heading clearfix">
                <span class="pull-right">
                    <a class="btn btn-default btn-sm">add rule section</a>
                    <a class="btn btn-success btn-sm">add new rule</a>
                </span>
                <select class="form-control pull-left" style="width:80px;">
                    <option value="all">all</option>
                    <option value="any">any</option>
                </select>
                <span class="pull-left" style="line-height:30px;margin-left:5px;">of these rules should be true</span>
            </div>
            <div class="panel-body">
                <table class="table">
                    <tr>
                        <td style="width:60px"></td>
                        <td>
                            <select class="form-control">
                                <option>name</option>
                            </select>
                        </td>
                        <td>
                            <select class="form-control">
                                    <option value="EX">is equal to</option>
                                    <option value="XEX">is not equal to</option>
                                    <option value="LT">is less than</option>
                                    <option value="LTE">is less than or equal</option>
                                    <option value="GT">is greater than</option>
                                    <option value="GTE">is greater than or equal</option>
                                    <option value="" disabled="">---------------</option>
                                    <option value="CT">contains</option>
                                    <option value="XCT">does not contain</option>
                                    <option value="SW">starts with</option>
                                    <option value="XSW">does not start with</option>
                            </select>
                        </td>
                        <td>
                            <select class="form-control">
                                <option value="val" selected="">the value</option>
                                <option value="valInField">the value in the field</option>
                            </select>
                        </td>
                        <td>
                            <input class="form-control" />
                        </td>
                        <td style="width:60px;">
                            <a class="btn btn-danger btn-sm"><i class="fa fa-fw fa-close"></i></a>
                        </td>
                    </tr>
                    <tr>
                        <td style="width:60px">and</td>
                        <td>
                            <select class="form-control">
                                <option>name</option>
                            </select>
                        </td>
                        <td>
                            <select class="form-control">
                                <option value="EX">is equal to</option>
                                <option value="XEX">is not equal to</option>
                                <option value="LT">is less than</option>
                                <option value="LTE">is less than or equal</option>
                                <option value="GT">is greater than</option>
                                <option value="GTE">is greater than or equal</option>
                                <option value="" disabled="">---------------</option>
                                <option value="CT">contains</option>
                                <option value="XCT">does not contain</option>
                                <option value="SW">starts with</option>
                                <option value="XSW">does not start with</option>
                            </select>
                        </td>
                        <td>
                            <select class="form-control">
                                <option value="val" selected="">the value</option>
                                <option value="valInField">the value in the field</option>
                            </select>
                        </td>
                        <td>
                            <input class="form-control" />
                        </td>
                        <td style="width:60px;">
                            <a class="btn btn-danger btn-sm"><i class="fa fa-fw fa-close"></i></a>
                        </td>
                    </tr>
                </table>
            </div>
        </div>
        <p><select class="form-control" style="width:100px"><option>AND</option><option>OR</option></select></p>
        <div class="panel panel-default">
            <div class="panel-heading clearfix">
                <span class="pull-right">
                    <a class="btn btn-default btn-sm">add rule section</a>
                    <a class="btn btn-success btn-sm">add new rule</a>
                </span>
                <select class="form-control pull-left" style="width:80px;">
                    <option value="all">all</option>
                    <option value="any">any</option>
                </select>
                <span class="pull-left" style="line-height:30px;margin-left:5px;">of these rules should be true</span>
            </div>
            <div class="panel-body">
                <table class="table">
                    <tr>
                        <td style="width:60px"></td>
                        <td>
                            <select class="form-control">
                                <option>name</option>
                            </select>
                        </td>
                        <td>
                            <select class="form-control">
                                <option value="EX">is equal to</option>
                                <option value="XEX">is not equal to</option>
                                <option value="LT">is less than</option>
                                <option value="LTE">is less than or equal</option>
                                <option value="GT">is greater than</option>
                                <option value="GTE">is greater than or equal</option>
                                <option value="" disabled="">---------------</option>
                                <option value="CT">contains</option>
                                <option value="XCT">does not contain</option>
                                <option value="SW">starts with</option>
                                <option value="XSW">does not start with</option>
                            </select>
                        </td>
                        <td>
                            <select class="form-control">
                                <option value="val" selected="">the value</option>
                                <option value="valInField">the value in the field</option>
                            </select>
                        </td>
                        <td>
                            <input class="form-control" />
                        </td>
                        <td style="width:60px;">
                            <a class="btn btn-danger btn-sm"><i class="fa fa-fw fa-close"></i></a>
                        </td>
                    </tr>
                    <tr>
                        <td style="width:60px">and</td>
                        <td>
                            <select class="form-control">
                                <option>name</option>
                            </select>
                        </td>
                        <td>
                            <select class="form-control">
                                <option value="EX">is equal to</option>
                                <option value="XEX">is not equal to</option>
                                <option value="LT">is less than</option>
                                <option value="LTE">is less than or equal</option>
                                <option value="GT">is greater than</option>
                                <option value="GTE">is greater than or equal</option>
                                <option value="" disabled="">---------------</option>
                                <option value="CT">contains</option>
                                <option value="XCT">does not contain</option>
                                <option value="SW">starts with</option>
                                <option value="XSW">does not start with</option>
                            </select>
                        </td>
                        <td>
                            <select class="form-control">
                                <option value="val" selected="">the value</option>
                                <option value="valInField">the value in the field</option>
                            </select>
                        </td>
                        <td>
                            <input class="form-control" />
                        </td>
                        <td style="width:60px;">
                            <a class="btn btn-danger btn-sm"><i class="fa fa-fw fa-close"></i></a>
                        </td>
                    </tr>
                </table>
            </div>
        </div>

        <h3>Sort</h3>
        <div class="panel panel-default">
            <div class="panel-heading clearfix">
                <span class="pull-right">
                    <a class="btn btn-success btn-sm">add new sort</a>
                </span>
            </div>
            <div class="panel-body">
                <table class="table">
                    <tr>
                        <td style="width:60px"></td>
                        <td>
                            <select class="form-control">
                                <option value="SA" selected="">sort from low to high by</option>
                                <option value="SD">sort from high to low by</option>
                            </select>
                        </td>
                        <td>
                            <select class="form-control">
                                <option>name</option>
                            </select>
                        </td>
                        <td>
                            <select class="form-control">
                                <option value="val" selected="">the value</option>
                                <option value="valInField">the value in the field</option>
                            </select>
                        </td>
                    </tr>
                    <tr>
                        <td style="width:60px">then</td>
                        <td>
                            <select class="form-control">
                                <option value="SA" selected="">sort from low to high by</option>
                                <option value="SD">sort from high to low by</option>
                            </select>
                        </td>
                        <td>
                            <select class="form-control">
                                <option>name</option>
                            </select>
                        </td>
                        <td>
                            <select class="form-control">
                                <option value="val" selected="">the value</option>
                                <option value="valInField">the value in the field</option>
                            </select>
                        </td>
                    </tr>
                </table>
            </div>
        </div>

		<pre>{{contentData.list | json}}</pre>
    </div>


</div>


