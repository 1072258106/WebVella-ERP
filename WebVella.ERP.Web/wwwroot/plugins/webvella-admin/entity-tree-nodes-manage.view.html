<div id="page-title">
	<div id="page-meta">
		<div class="aux-actions">
		</div>
		<!--<div class="icon-box">
			<i class="fa fa-database"></i>
		</div>-->
		<div class="entity-box">
			<h4 class="no-link" title="Entities">entities</h4>
			<!--<a ui-sref="webvella-admin-entities"><i class="fa fa-arrow-left"></i> Back to list</a>-->
		</div>
		<div class="spacer-box"></div>
		<div class="divider-box">
			<i class="fa fa-caret-right"></i>
		</div>
		<div class="icon-box">
			<i class="fa fa-{{::contentData.entity.iconName}}"></i>
		</div>
		<div class="entity-box">
			<h4 class="no-link" title="{{::contentData.entity.label}}">{{::contentData.entity.name}}</h4>
		</div>
		<div class="spacer-box"></div>
		<div class="divider-box">
			<i class="fa fa-caret-right"></i>
		</div>
		<div class="lists-box">
			<h4 title="Records lists">records trees</h4>
			<a href="#/admin/entities/{{::contentData.entity.name}}/trees"><i class="fa fa-arrow-left"></i> Back to list</a>
		</div>
		<div class="spacer-box"></div>
		<div class="divider-box">
			<i class="fa fa-caret-right"></i>
		</div>
		<div class="lists-box">
			<h4 class="no-link" title="Manage a Record Tree nodes">Nodes manage</h4>
		</div>
	</div>
	<!--<div id="page-messages">
		<div class="alert alert-warning" role="alert">This is a plugin message dynamically embedded in the page</div>
	</div>-->
</div>
<div id="page-body">
	<div class="tabbable tabs-left spilled">
		<a class="back" href="#/admin/entities"><i class="fa fa-fw fa-arrow-left"></i> <span class="text">Back</span></a>
		<ul class="nav nav-tabs">
			<li><a href="#/admin/entities/{{::contentData.entity.name}}"><i class="fa fa-fw fa-info-circle"></i> <span class="text">Details</span></a></li>
			<li><a href="#/admin/entities/{{::contentData.entity.name}}/fields"><i class="fa fa-fw fa-table"></i> <span class="text">Fields</span></a></li>
			<li><a href="#/admin/entities/{{::contentData.entity.name}}/views"><i class="fa fa-fw fa-file-text-o"></i> <span class="text">Record Views</span></a></li>
			<li><a href="#/admin/entities/{{::contentData.entity.name}}/lists"><i class="fa fa-fw fa-list"></i> <span class="text">Records Lists</span></a></li>
			<li class="active"><a href="#/admin/entities/{{::contentData.entity.name}}/trees"><i class="fa fa-fw fa-sitemap"></i> <span class="text">Records Trees</span></a></li>
			<li><a href="#/admin/entities/{{::contentData.entity.name}}/relations"><i class="fa fa-fw fa-link"></i> <span class="text">Relations</span></a></li>
		</ul>

	</div>

	<div id="page-text">

		<!-- Nested node template -->
		<script type="text/ng-template" id="nodes_renderer.html">
			<div class="btn-group">
				<span class="btn btn-default" ui-tree-handle
					  ng-mouseenter="contentData.attachHoverEffectClass[node.id] = true" ng-mouseleave="contentData.attachHoverEffectClass[node.id] = false">
					<i class="fa fa-fw fa-arrows"></i>
				</span>
				<span class="btn btn-default disabled">
					{{node.label}}
					<span class="btn btn-default btn-xs add-node" ng-click="contentData.addNodeModal(node)"><i class="fa fa-fw" ng-class="{'fa-plus go-green': !contentData.addButtonLoadingClass[node.id], 'fa-cog fa-spin go-orange': contentData.addButtonLoadingClass[node.id]}"></i></span>
					<span class="btn btn-default btn-xs delete-node" ng-click="contentData.removeNodeModal(node)"><i class="fa fa-fw fa-minus go-red"></i></span>
				</span>
			</div>
			<ol ui-tree-nodes="" ng-model="node.nodes" ng-if="node.nodes.length > 0">
				<li ng-repeat="node in node.nodes" ui-tree-node ng-include="'nodes_renderer.html'"
					ng-class="{parent_li:node.nodes.length > 0, hovered: contentData.attachHoverEffectClass[node.id]}"></li>
			</ol>
		</script>

		<div ui-tree>
			<ol ui-tree-nodes="" ng-model="contentData.tree.data" id="tree-root">
				<li ng-repeat="node in pluginData.tree.data track by node.id" ui-tree-node ng-include="'nodes_renderer.html'"
					ng-class="{parent_li:node.nodes.length > 0, hovered: contentData.attachHoverEffectClass[node.id]}"></li>
			</ol>
		</div>


	</div>


</div>

