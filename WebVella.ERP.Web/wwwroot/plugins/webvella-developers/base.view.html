<div id="developers" ui-view="contentView">
	<!--<div><button ng-click="pluginData.createSampleQueryDataStructure()">create sample query data structure</button></div>
	<div><button ng-click="pluginData.executeSampleQuery()">execute sample query</button></div>-->
	<!--<div class="button" ngf-select ng-model="pluginData.files" ngf-multiple="false">Select File</div>

	<img ngf-src="pluginData.files[0]" ngf-default-src="'/thumb.jpg'" ngf-accept="'image/*'">

	<div><button ng-click="pluginData.executeSampleRelationRecordUpdate()">execute sample relation record update</button></div>-->
	

	<p>
	<a href="javascript:void(0)" class="btn btn-sm btn-default" ng-click="pluginData.collapseAll()">collapse all</a>
		<a href="javascript:void(0)" class="btn btn-sm btn-default" ng-click="pluginData.expandAll()">expand all</a>
		<a href="javascript:void(0)" class="btn btn-sm btn-default" ng-click="pluginData.clearSelection()">clear selection</a>
	</p>
	<tree-view class="tree" tree-branches="::pluginData.treeBranches"
			   selected-tree-records="pluginData.selectedTreeRecords"
			   collapsed-tree-nodes="pluginData.collapsedTreeNodes"
			   selectable-node-ids ="pluginData.selectableNodeIds"
			   tree-meta="::pluginData.treeMeta"
			   field-meta="::pluginData.itemMeta"></tree-view>

	<!--<div class="tree">
		<ul role="tree">
			<li class="parent_li" role="treeitem">
				<div class="btn-group">
					<a class="btn btn-default"><i class="fa fa-folder-open"></i></a>
					<a class="btn btn-default node">Parent <i class="fa fa-fw fa-check go-gray-light"></i></a>
				</div>
				<ul role="group">
					<li class="parent_li" role="treeitem">
						<div class="btn-group">
							<a class="btn btn-default"><i class="fa fa-folder-open"></i></a>
							<a class="btn btn-default">Administrators <i class="fa fa-fw fa-check go-gray-light"></i></a>
						</div>
						<ul role="group">
							<li><a class="btn btn-success">Administrators <i class="fa fa-fw fa-check"></i></a></li>
							<li><a class="btn btn-default">Administrators <i class="fa fa-fw fa-check go-gray-light"></i></a></li>
							<li><a class="btn btn-default">Administrators <i class="fa fa-fw fa-check go-gray-light"></i></a></li>
						</ul>
					</li>
					<li class="parent_li" role="treeitem">
						<div class="btn-group">
							<a class="btn btn-default"><i class="fa fa-folder-open"></i></a>
							<a class="btn btn-default node">Parent <i class="fa fa-fw fa-check go-gray-light"></i></a>
						</div>
						<ul role="group">
							<li><a class="btn btn-default">Administrators <i class="fa fa-fw fa-check go-gray-light"></i></a></li>
							<li><a class="btn btn-default">Administrators <i class="fa fa-fw fa-check go-gray-light"></i></a></li>
							<li class="parent_li" role="treeitem">
								<div class="btn-group">
									<a class="btn btn-default"><i class="fa fa-folder"></i></a>
									<a class="btn btn-default">Administrators <i class="fa fa-fw fa-check go-gray-light"></i></a>
								</div>
								<ul role="group">
									<li style="display: none;" class="parent_li" role="treeitem">
										<div class="btn-group">
											<a class="btn btn-default"><i class="fa fa-folder"></i></a>
											<a class="btn btn-default">Administrators <i class="fa fa-fw fa-check go-gray-light"></i></a>
										</div>
										<ul role="group">
											<li style="display: none;"><a class="btn btn-default">Administrators <i class="fa fa-fw fa-check go-gray-light"></i></a></li>
											<li style="display: none;"><a class="btn btn-default">Administrators <i class="fa fa-fw fa-check go-gray-light"></i></a></li>
										</ul>
									</li>
									<li style="display: none;"><a class="btn btn-default">Administrators <i class="fa fa-fw fa-check go-gray-light"></i></a></li>
									<li style="display: none;"><a class="btn btn-default">Administrators <i class="fa fa-fw fa-check go-gray-light"></i></a></li>
								</ul>
							</li>
						</ul>
					</li>
				</ul>
			</li>
			<li class="parent_li" role="treeitem">
				<div class="btn-group">
					<a class="btn btn-default"><i class="fa fa-folder-open"></i></a>
					<a class="btn btn-default node">Parent <i class="fa fa-fw fa-check go-gray-light"></i></a>
				</div>
				<ul role="group">
					<li><a class="btn btn-default">Administrators <i class="fa fa-fw fa-check go-gray-light"></i></a></li>
				</ul>
			</li>
		</ul>
	</div>-->

</div>

<script type="text/ng-template" id="treeView.html">
	<ul role="tree">
		<li role="treeitem" ng-repeat="node in treeBranches track by node.id" 
				ng-class="{parent_li: node.nodes.length > 1, hovered: attachHoverEffectClass[node.id], collapsed:isNodeCollapsed(node.id)}" >
				<div class="btn-group" ng-if="::node.nodes.length == 0">
					<a class="btn node" 
						ng-class="{'btn-success': isRecordSelected(node.recordId),'btn-default': !isRecordSelected(node.recordId),'disabled':!isNodeSelectable(node.id)}"
						ng-click="toggleNodeSelected(node)" href="javascript:void(0)">
						{{::node.label}} 
						<span ng-switch="isRecordSelected(node.recordId)">
							<i class="fa fa-fw fa-times go-red" ng-switch-when="true"></i>
							<span ng-switch="isNodeSelectable(node.id)" ng-switch-when="false">
								<i class="fa fa-fw fa-check" ng-switch-when="true"></i>
								<i class="fa fa-fw fa-lock" ng-switch-when="false"></i>
							</span>
						</span>
					</a>
				</div>

				<div class="btn-group"  ng-if="::node.nodes.length > 0">
					<a class="btn btn-default" ng-mouseenter="attachHoverEffectClass[node.id] = true" ng-mouseleave="attachHoverEffectClass[node.id] = false"
						ng-click="toggleNodeCollapse(node)" href="javascript:void(0)">
						<i class="fa fa-minus-circle"></i>
					</a>
					<a class="btn node" 
						ng-class="{'btn-success': isRecordSelected(node.recordId),'btn-default': !isRecordSelected(node.recordId),'disabled':!isNodeSelectable(node.id)}"
						ng-click="toggleNodeSelected(node)" href="javascript:void(0)">
						{{::node.label}} 
						<span ng-switch="isRecordSelected(node.recordId)">
							<i class="fa fa-fw fa-times go-red" ng-switch-when="true"></i>
							<span ng-switch="isNodeSelectable(node.id)" ng-switch-when="false">
								<i class="fa fa-fw fa-check" ng-switch-when="true"></i>
								<i class="fa fa-fw fa-lock" ng-switch-when="false"></i>
							</span>
						</span>
					</a>
				</div>
				<tree-view tree-branches="::node.nodes"
						   selected-tree-records="selectedTreeRecords"
						   collapsed-tree-nodes="collapsedTreeNodes"
						   selectable-node-ids ="selectableNodeIds"
						   tree-meta="::treeMeta"
						   field-meta="::fieldMeta"
						   ng-if="::node.nodes.length > 0"></tree-view>
		</li>
	</ul>
</script>